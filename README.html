<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-06-13 Sat 23:39 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Sacha Chua" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css"
href="http://sachachua.com/blog/wp-content/themes/sacha-v3/foundation/css/foundation.min.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/org-export.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/blog/wp-content/themes/sacha-v3/style.css"></link>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org082021a">Summary</a></li>
<li><a href="#org9b55ee5">License</a></li>
<li><a href="#org8097c90">Blog post</a></li>
<li><a href="#orgfaf6da2">Things I needed to install</a>
<ul>
<li><a href="#org59eddeb">Errors fixed along the way</a></li>
</ul>
</li>
<li><a href="#org32dc2f1">General font code</a>
<ul>
<li><a href="#orgfe6260f">Parameters and common functions</a></li>
<li><a href="#orgff0911d">Generate guidelines</a></li>
<li><a href="#org3eb7323">Cut into glyphs</a></li>
<li><a href="#org2368910">Import SVG outlines into font</a></li>
<li><a href="#orgee2c505">Adjust bearings</a></li>
<li><a href="#orgdac9851">Kern the font</a></li>
<li><a href="#org9ef6e3d">Hand-tweak the glyphs</a></li>
</ul>
</li>
<li><a href="#org57907ef">Generate fonts</a>
<ul>
<li><a href="#orgc5e8511">Generate sachacHand Light</a></li>
<li><a href="#org7706c99">Generate sachacHand Regular</a></li>
<li><a href="#org7449696">Generate sachacHand Bold</a></li>
</ul>
</li>
<li><a href="#org80755ab">Variants</a></li>
<li><a href="#orgd6cd575">Test the fonts</a></li>
<li><a href="#org9fd35b7">Ideas</a>
<ul>
<li><a href="#org20cccc0"><span class="done DONE">DONE</span> Copy glyphs from hand-edited font</a></li>
<li><a href="#org6bcabe3"><span class="todo TODO">TODO</span> Alternate glyphs</a></li>
<li><a href="#org297a30d"><span class="todo TODO">TODO</span> Ligatures</a></li>
<li><a href="#orgaecd342"><span class="todo TODO">TODO</span> Accents</a></li>
<li><a href="#org297ed13">Generating a zero-width version?</a></li>
<li><a href="#orgc900221"><span class="todo TODO">TODO</span> Make a font for A-</a></li>
</ul>
</li>
<li><a href="#orgd9c73ec">Extra stuff</a></li>
<li><a href="#org7bc68ff">Get information from my blog database</a>
<ul>
<li><a href="#orga32346c">Figure out what glyphs I want based on my blog headings</a></li>
<li><a href="#org07af58e">Make test page with blog headings</a></li>
<li><a href="#orge0bc639">Check glyphs</a></li>
<li><a href="#org26bc66b">Look up posts with weird glyphs</a></li>
<li><a href="#org5552eb9">Get frequency of pairs of characters</a></li>
<li><a href="#org0e022a8">Copy metrics from my edited font</a></li>
<li><a href="#orgd38f038">Copy it to my website</a></li>
</ul>
</li>
<li><a href="#org97ea1a4">Other resources</a></li>
</ul>
</div>
</div>

<div id="outline-container-org082021a" class="outline-2">
<h2 id="org082021a">Summary</h2>
<div class="outline-text-2" id="text-org082021a">
<p>
I wanted to make my own handwriting font. I also wanted to be able to
generate fonts quickly from the handwriting samples I can draw on my
ta   [ State ]: EDITED, shown value does not take effect until you set or save it.
</p>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="https://pages.sachachua.com/sachac-hand/README.html">https://pages.sachachua.com/sachac-hand/README.html</a></td>
<td class="org-left">This README as HTML</td>
</tr>

<tr>
<td class="org-left"><a href="https://github.com/sachac/sachac-hand">https://github.com/sachac/sachac-hand</a></td>
<td class="org-left">Github repo</td>
</tr>

<tr>
<td class="org-left"><a href="./files/test.html">./files/test.html</a></td>
<td class="org-left">Test pages</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org9b55ee5" class="outline-2">
<h2 id="org9b55ee5">License</h2>
</div>

<div id="outline-container-org8097c90" class="outline-2">
<h2 id="org8097c90">Blog post</h2>
<div class="outline-text-2" id="text-org8097c90">
<p>
I wanted to make a font based on my handwriting using only free
software. It turns out that FontForge can be scripted with Python. I
know just a little about Python and even less about typography, but I
managed to hack together something that worked for me. If you're
reading this on my blog at <a href="https://sachachua.com/blog/">https://sachachua.com/blog/</a> , you'll
probably see the new font being used on the blog post titles. Whee!
</p>

<p>
My rough notes are at
<a href="https://github.com/sachac/sachac-hand/">https://github.com/sachac/sachac-hand/</a> . I wanted
to write it as a literate program using Org Babel blocks. It's not
really fully reproducible yet, but it might be a handy starting point.
The basic workflow was:
</p>

<ol class="org-ol">
<li>Generate a template using other fonts as the base.</li>
<li>Import the template into Medibang Paint on my phone and draw
letters on a different layer. (I almost forgot the letter <code>q</code>, so I
had to add it at the last minute.)</li>
<li>Export just the layer with my writing.</li>
<li>Cut the image into separate glyphs using Python and autotrace each one.</li>
<li>Import each glyph into FontForge as an SVG and a PNG.</li>
<li>Set the left side and right side bearing, overriding as needed based on a table.</li>
<li>Figure out kerning classes.</li>
<li>Hand-tweak the contours and kerning.</li>
<li>Use <code>sfnt2woff</code> to export the web font file for use on my blog, and modify the stylesheet to include it.</li>
</ol>

<p>
I really liked being able to specify kerning classes through an Org
Mode table like this:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t,x,v,y,z</td>
<td class="org-right">h,b,l,i,k</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-102</td>
<td class="org-right">-61</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-right">-41</td>
<td class="org-right">-25</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">0</td>
<td class="org-right">-82</td>
<td class="org-right">-41</td>
<td class="org-right">-25</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">29</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">0</td>
<td class="org-right">-50</td>
<td class="org-right">-81</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">-48</td>
<td class="org-right">-120</td>
<td class="org-right">-79</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">0</td>
<td class="org-right">-41</td>
<td class="org-right">-50</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-52</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-35</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">-80</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">43</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-right">0</td>
<td class="org-right">-23</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">17</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">0</td>
<td class="org-right">-190</td>
<td class="org-right">-120</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-130</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-188</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">0</td>
<td class="org-right">-100</td>
<td class="org-right">-90</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-right">-100</td>
<td class="org-right">-40</td>
<td class="org-right">-166</td>
</tr>

<tr>
<td class="org-left">two</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-53</td>
</tr>
</tbody>
</table>

<p>
I had a hard time defining classes using the FontForge interface
because I occasionally ended up clearing my glyph selection, so it was
great being able to just edit my columns and rows. 
</p>

<p>
Clearly my kerning is still very rough&#x2013;no actual values for j, for
example&#x2013;but it's a start. Also, I can probably figure out how to
combine this with character pair kerning and have two tables for
easier tweaking.
</p>

<p>
A- insisted on tracing my handwriting template a few times, so I might
actually be able to go through the same process to convert her
handwriting into a font. Whee!
</p>
</div>
</div>

<div id="outline-container-orgfaf6da2" class="outline-2">
<h2 id="orgfaf6da2">Things I needed to install</h2>
<div class="outline-text-2" id="text-orgfaf6da2">
<p>
<code>sudo apt-get install fontforge python3-fontforge python3-numpy python3-sqlalchemy python3-pandas python3-pymysql python3-nltk woff-tools woff2 python3-yattag python3-livereload</code>
</p>

<p>
I compiled autotrace based on my fork at <a href="https://github.com/sachac/autotrace">https://github.com/sachac/autotrace</a> so that it uses Graphicsmagick instead of Imagemagick.
</p>

<p>
I also needed <code>(setenv "LD_LIBRARY_PATH" "/usr/local/lib")</code>. There are probably a bunch of other prerequisites I've forgotten to write down.
</p>
</div>

<div id="outline-container-org59eddeb" class="outline-3">
<h3 id="org59eddeb">Errors fixed along the way</h3>
<div class="outline-text-3" id="text-org59eddeb">
<ul class="org-ul">
<li><code>FileNotFoundError: [Errno 2] No such file or directory: '/home/sacha/.local/lib/python3.8/site-packages/aglfn/agl-aglfn/aglfn.txt'</code>
<ul class="org-ul">
<li>symlink or copy the one from /usr/share/aglfn to the right place</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org32dc2f1" class="outline-2">
<h2 id="org32dc2f1">General font code</h2>
<div class="outline-text-2" id="text-org32dc2f1">
</div>
<div id="outline-container-orgfe6260f" class="outline-3">
<h3 id="orgfe6260f">Parameters and common functions</h3>
<div class="outline-text-3" id="text-orgfe6260f">
<div class="org-src-container">
<pre class="src src-python" id="org010bb5d"><code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> subprocess</code>
<code></code>
<code><span class="org-variable-name">params</span> = {<span class="org-string">'template'</span>: <span class="org-string">'template-256.png'</span>,</code>
<code>  <span class="org-string">'sample_file'</span>: <span class="org-string">'sample.png'</span>,</code>
<code>  <span class="org-string">'name_list'</span>: <span class="org-string">'aglfn.txt'</span>,</code>
<code>  <span class="org-string">'new_font_file'</span>: <span class="org-string">'sachacHand.sfd'</span>,</code>
<code>  <span class="org-string">'new_otf'</span>: <span class="org-string">'sachacHand.otf'</span>,</code>
<code>  <span class="org-string">'new_font_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'new_family_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'new_full_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'text_color'</span>: <span class="org-string">'lightgray'</span>,</code>
<code>  <span class="org-string">'glyph_dir'</span>: <span class="org-string">'glyphs/'</span>,</code>
<code>  <span class="org-string">'letters'</span>: <span class="org-string">'HOnodpagscebhklftijmnruwvxyzCGABRDLEFIJKMNPQSTUVWXYZ0123456789?:;-&#8211;&#8212;=!\'&#8217;"&#8220;&#8221;@/\\~_#$%&amp;()*+,.&lt;&gt;[]^`{|}q'</span>,</code>
<code>  <span class="org-string">'direction'</span>: <span class="org-string">'vertical'</span>,</code>
<code>  <span class="org-string">'rows'</span>: 10, </code>
<code>  <span class="org-string">'columns'</span>: 10, </code>
<code>  <span class="org-string">'x_height'</span>: 368,</code>
<code>  <span class="org-string">'em'</span>: 1000, </code>
<code>  <span class="org-string">'em_width'</span>: 1000, </code>
<code>  <span class="org-string">'row_padding'</span>: 0,</code>
<code>  <span class="org-string">'ascent'</span>: 800, </code>
<code>  <span class="org-string">'descent'</span>: 200, </code>
<code>  <span class="org-string">'height'</span>: 500, </code>
<code>  <span class="org-string">'width'</span>: 500, </code>
<code>  <span class="org-string">'caps'</span>: 650,</code>
<code>  <span class="org-string">'line_width'</span>: 3,</code>
<code>  <span class="org-string">'text'</span>: <span class="org-string">"Python+FontForge+Org: I made a font based on my handwriting!"</span></code>
<code>  }</code>
<code>fontforge.loadNamelist(params[<span class="org-string">'name_list'</span>])</code>
<code><span class="org-variable-name">params</span>[<span class="org-string">'font_size'</span>] = <span class="org-builtin">int</span>(params[<span class="org-string">'em'</span>])</code>
<code><span class="org-variable-name">params</span>[<span class="org-string">'baseline'</span>] = params[<span class="org-string">'em'</span>] - params[<span class="org-string">'descent'</span>]</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">transpose_letters</span>(letters, width, height):</code>
<code>  <span class="org-keyword">return</span> <span class="org-string">''</span>.join(np.reshape(<span class="org-builtin">list</span>(letters.ljust(width * height)), (height, width)).transpose().reshape(-1))</code>
<code></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Return glyph name of s, or s if none (possibly variant)</span></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_name</span>(s):</code>
<code>  <span class="org-keyword">return</span> aglfn.name(s) <span class="org-keyword">or</span> s</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_matrix</span>(matrix=<span class="org-constant">None</span>, letters=<span class="org-constant">None</span>, rows=0, columns=0, direction=<span class="org-string">'horizontal'</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> matrix:</code>
<code>    <span class="org-keyword">if</span> <span class="org-builtin">isinstance</span>(matrix[0], <span class="org-builtin">str</span>):</code>
<code>      <span class="org-comment-delimiter"># </span><span class="org-comment">Split each</span></code>
<code>      <span class="org-variable-name">matrix</span> = [x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> matrix]</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      <span class="org-variable-name">matrix</span> = matrix[:]  <span class="org-comment-delimiter"># </span><span class="org-comment">copy the list</span></code>
<code>    <span class="org-keyword">return</span> [[glyph_name(x) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> row] <span class="org-keyword">for</span> row <span class="org-keyword">in</span> matrix]</code>
<code>  <span class="org-keyword">else</span>:</code>
<code>    <span class="org-variable-name">matrix</span> = np.reshape(<span class="org-builtin">list</span>(params[<span class="org-string">'letters'</span>].ljust(params[<span class="org-string">'rows'</span>] * params[<span class="org-string">'columns'</span>]))[0:params[<span class="org-string">'rows'</span>] * params[<span class="org-string">'columns'</span>]], (params[<span class="org-string">'rows'</span>], params[<span class="org-string">'columns'</span>]))</code>
<code>    <span class="org-keyword">if</span> direction == <span class="org-string">'vertical'</span>:</code>
<code>      <span class="org-variable-name">matrix</span> = matrix.transpose()</code>
<code>  <span class="org-keyword">return</span> matrix</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_filename_base</span>(glyph_name):</code>
<code>  <span class="org-keyword">try</span>:</code>
<code>    <span class="org-keyword">return</span> <span class="org-string">'uni%s-%s'</span> % (<span class="org-builtin">hex</span>(<span class="org-builtin">ord</span>(aglfn.to_glyph(glyph_name))).replace(<span class="org-string">'0x'</span>, <span class="org-string">''</span>).zfill(4), glyph_name)</code>
<code>  <span class="org-keyword">except</span>:</code>
<code>    <span class="org-keyword">return</span> glyph_name</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">load_font</span>(params):</code>
<code>  <span class="org-keyword">if</span> <span class="org-builtin">type</span>(params) == <span class="org-builtin">str</span>:</code>
<code>    <span class="org-keyword">return</span> fontforge.<span class="org-builtin">open</span>(params)</code>
<code>  <span class="org-keyword">else</span>:</code>
<code>    <span class="org-keyword">return</span> fontforge.<span class="org-builtin">open</span>(params[<span class="org-string">'new_font_file'</span>])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">save_font</span>(font, font_filename=<span class="org-constant">None</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> font_filename <span class="org-keyword">is</span> <span class="org-constant">None</span>:</code>
<code>    <span class="org-variable-name">font_filename</span> = font.fontname + <span class="org-string">'.sfd'</span></code>
<code>  font.save(font_filename)</code>
<code>  font.generate(font_filename.replace(<span class="org-string">'.sfd'</span>, <span class="org-string">'.otf'</span>))</code>
<code>  subprocess.call([<span class="org-string">'sfnt2woff'</span>, font_filename.replace(<span class="org-string">'.sfd'</span>, <span class="org-string">'.otf'</span>)])</code>
<code></code>
<code><span class="org-keyword">import</span> orgbabelhelper <span class="org-keyword">as</span> ob</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">out</span>(df, **kwargs):</code>
<code>  <span class="org-keyword">print</span>(ob.dataframe_to_orgtable(df, **kwargs))</code>
<code></code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgff0911d" class="outline-3">
<h3 id="orgff0911d">Generate guidelines</h3>
<div class="outline-text-3" id="text-orgff0911d">
</div>
<div id="outline-container-orgb8b8ba8" class="outline-4">
<h4 id="orgb8b8ba8">Code to make the template</h4>
<div class="outline-text-4" id="text-orgb8b8ba8">
<div class="org-src-container">
<pre class="src src-python" id="org6238ac0"><code><span class="org-keyword">from</span> PIL <span class="org-keyword">import</span> Image, ImageFont, ImageDraw</code>
<code></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">LETTERS = 'abcd'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Baseline is red</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Top of glyph is light blue</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Bottom of glyph is blue</span></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">draw_letter</span>(column, row, letter, params):</code>
<code>  <span class="org-variable-name">draw</span> = params[<span class="org-string">'draw'</span>]</code>
<code>  <span class="org-variable-name">sized_padding</span> = <span class="org-builtin">int</span>(params[<span class="org-string">'row_padding'</span>] * params[<span class="org-string">'em'</span>] / params[<span class="org-string">'height'</span>])</code>
<code>  <span class="org-variable-name">origin</span> = (column * params[<span class="org-string">'em_width'</span>], row * (params[<span class="org-string">'em'</span>] + sized_padding))</code>
<code>  draw.line((origin[0], origin[1], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1]), fill=<span class="org-string">'lightblue'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1], origin[0], origin[1] + params[<span class="org-string">'em'</span>]), fill=<span class="org-string">'lightgray'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'x_height'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'x_height'</span>]), fill=<span class="org-string">'lightgray'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>]), fill=<span class="org-string">'red'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'caps'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'caps'</span>]), fill=<span class="org-string">'lightgreen'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'em'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'em'</span>]), fill=<span class="org-string">'blue'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  <span class="org-variable-name">width</span>, <span class="org-variable-name">height</span> = draw.textsize(letter, font=params[<span class="org-string">'font'</span>])</code>
<code>  draw.text((origin[0] + (params[<span class="org-string">'em_width'</span>] - width) / 2, origin[1]), letter, font=params[<span class="org-string">'font'</span>], fill=params[<span class="org-string">'text_color'</span>])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">make_template</span>(params):</code>
<code>  <span class="org-variable-name">sized_padding</span> = <span class="org-builtin">int</span>(params[<span class="org-string">'row_padding'</span>] * params[<span class="org-string">'em'</span>] / params[<span class="org-string">'height'</span>])</code>
<code>  <span class="org-variable-name">img</span> = Image.new(<span class="org-string">'RGB'</span>, (params[<span class="org-string">'columns'</span>] * params[<span class="org-string">'em_width'</span>], params[<span class="org-string">'rows'</span>] * (params[<span class="org-string">'em'</span>] + sized_padding)), <span class="org-string">'white'</span>)</code>
<code>  <span class="org-variable-name">params</span>[<span class="org-string">'draw'</span>] = ImageDraw.Draw(img)</code>
<code>  <span class="org-variable-name">params</span>[<span class="org-string">'font'</span>] = ImageFont.truetype(params[<span class="org-string">'font_name'</span>], params[<span class="org-string">'font_size'</span>])</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(**params)</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(matrix):</code>
<code>    <span class="org-keyword">for</span> c, ch <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>      draw_letter(c, r, ch, params)</code>
<code>  img.thumbnail((params[<span class="org-string">'columns'</span>] * params[<span class="org-string">'width'</span>], params[<span class="org-string">'rows'</span>] * (params[<span class="org-string">'height'</span>] + params[<span class="org-string">'row_padding'</span>])))</code>
<code>  img.save(params[<span class="org-string">'template'</span>])</code>
<code>  <span class="org-keyword">return</span> params[<span class="org-string">'template'</span>]</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgda3a406" class="outline-4">
<h4 id="orgda3a406">Actually make the templates</h4>
<div class="outline-text-4" id="text-orgda3a406">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code>&lt;&lt;def_make_template&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">make_template({**params, 'font_name': '/home/sacha/.fonts/Romochka.otf', 'template': 'template-romochka.png', 'row_padding': 15}) </span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">make_template({**params, 'font_name': '/home/sacha/.fonts/Breip.ttf', 'template': 'template-breip.png', 'row_padding': 15}) </span></code>
<code>make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'/home/sacha/.fonts/KGPrimaryDots.ttf'</span>, </code>
<code>  <span class="org-string">'letters'</span>: <span class="org-string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890?:;-&#8211;&#8212;=!\'&#8217;"&#8220;&#8221;@/\\~_#$%&amp;()*+,.&lt;&gt;[]^`{|}'</span>, <span class="org-string">'direction'</span>: <span class="org-string">'horizontal'</span>, <span class="org-string">'text_color'</span>: <span class="org-string">'black'</span>,</code>
<code>  <span class="org-string">'template'</span>: <span class="org-string">'template-kg.png'</span>, <span class="org-string">'ascent'</span>: 800, <span class="org-string">'descent'</span>: 200, <span class="org-string">'caps'</span>: 600, <span class="org-string">'x_height'</span>: 340, <span class="org-string">'row_padding'</span>: 50}) </code>
<code>make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'sachacHand.otf'</span>, <span class="org-string">'template'</span>: <span class="org-string">'template-sachacHand.png'</span>, <span class="org-string">'row_padding'</span>: 50})</code>
<code><span class="org-keyword">return</span> make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'sachacHand.otf'</span>, </code>
<code><span class="org-string">'template'</span>: <span class="org-string">'template-sample.png'</span>, <span class="org-string">'direction'</span>: <span class="org-string">'horizontal'</span>, <span class="org-string">'rows'</span>: 4, <span class="org-string">'columns'</span>: 4, <span class="org-string">'height'</span>: 100, <span class="org-string">'width'</span>: 100, <span class="org-string">'row_padding'</span>: 100 }) </code>
</pre>
</div>


<div class="figure">
<p><img src="files/template-sample.png" alt="template-sample.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org3eb7323" class="outline-3">
<h3 id="org3eb7323">Cut into glyphs</h3>
<div class="outline-text-3" id="text-org3eb7323">
<div class="org-src-container">
<pre class="src src-python" id="org714c5aa"><code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> libxml2</code>
<code><span class="org-keyword">from</span> PIL <span class="org-keyword">import</span> Image, ImageOps</code>
<code><span class="org-keyword">import</span> subprocess</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">cut_glyphs</span>(sample_file=<span class="org-string">""</span>, letters=<span class="org-string">""</span>, direction=<span class="org-string">""</span>, columns=0, rows=0, height=0, width=0, row_padding=0, glyph_dir=<span class="org-string">'glyphs'</span>, matrix=<span class="org-constant">None</span>, **kwargs):</code>
<code>  <span class="org-variable-name">im</span> = Image.<span class="org-builtin">open</span>(sample_file).convert(<span class="org-string">'1'</span>)</code>
<code>  <span class="org-keyword">if</span> <span class="org-keyword">not</span> os.path.exists(glyph_dir):</code>
<code>    os.makedirs(glyph_dir)</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(matrix=matrix, letters=letters, direction=direction, columns=columns, rows=rows)</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(matrix):</code>
<code>    <span class="org-variable-name">top</span> = r * (height + row_padding)</code>
<code>    <span class="org-variable-name">bottom</span> = top + height</code>
<code>    <span class="org-keyword">for</span> c, ch <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>      <span class="org-variable-name">left</span> = c * width</code>
<code>      <span class="org-variable-name">right</span> = left + width</code>
<code>      <span class="org-variable-name">small</span> = im.crop((left, top, right, bottom))</code>
<code>      <span class="org-variable-name">filename</span> = os.path.join(glyph_dir, glyph_filename_base(ch) + <span class="org-string">'.pbm'</span>)</code>
<code>      small.save(filename)</code>
<code>      <span class="org-variable-name">svg</span> = filename.replace(<span class="org-string">'.pbm'</span>, <span class="org-string">'.svg'</span>)</code>
<code>      <span class="org-variable-name">png</span> = filename.replace(<span class="org-string">'.pbm'</span>, <span class="org-string">'.png'</span>)</code>
<code>      small.save(png)</code>
<code>      subprocess.call([<span class="org-string">'autotrace'</span>, <span class="org-string">'-output-file'</span>, svg, filename])</code>
<code>      <span class="org-variable-name">doc</span> = libxml2.parseFile(svg)</code>
<code>      <span class="org-variable-name">root</span> = doc.children</code>
<code>      <span class="org-variable-name">child</span> = root.children</code>
<code>      child.<span class="org-builtin">next</span>.unlinkNode()</code>
<code>      doc.saveFile(svg)</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org2368910" class="outline-3">
<h3 id="org2368910">Import SVG outlines into font</h3>
<div class="outline-text-3" id="text-org2368910">
<div class="org-src-container">
<pre class="src src-python" id="org2d06028"><code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">set_up_font_info</span>(font, new_family_name=<span class="org-string">""</span>, new_font_name=<span class="org-string">""</span>, new_full_name=<span class="org-string">""</span>, em=1000, descent=200, ascent=800, **kwargs):</code>
<code>  <span class="org-variable-name">font.encoding</span> = <span class="org-string">'UnicodeFull'</span></code>
<code>  <span class="org-variable-name">font.fontname</span> = new_font_name</code>
<code>  <span class="org-variable-name">font.familyname</span> = new_family_name</code>
<code>  <span class="org-variable-name">font.fullname</span> = new_full_name</code>
<code>  <span class="org-variable-name">font.em</span> = em</code>
<code>  <span class="org-variable-name">font.descent</span> = descent</code>
<code>  <span class="org-variable-name">font.ascent</span> = ascent</code>
<code>  <span class="org-keyword">return</span> font</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">import_glyphs</span>(font, letters=<span class="org-constant">None</span>, columns=<span class="org-constant">None</span>, rows=<span class="org-constant">None</span>, direction=<span class="org-constant">None</span>, matrix=<span class="org-constant">None</span>, height=0, **kwargs):</code>
<code>  <span class="org-variable-name">old_em</span> = font.em</code>
<code>  <span class="org-variable-name">font.em</span> = height</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(matrix=matrix, letters=letters, columns=columns, rows=rows, direction=direction)</code>
<code>  <span class="org-keyword">for</span> row <span class="org-keyword">in</span> matrix:</code>
<code>    <span class="org-keyword">for</span> name <span class="org-keyword">in</span> row:</code>
<code>      <span class="org-keyword">if</span> name <span class="org-keyword">is</span> <span class="org-constant">None</span> <span class="org-keyword">or</span> name == <span class="org-string">'space'</span>: <span class="org-keyword">continue</span></code>
<code>      <span class="org-keyword">try</span>:</code>
<code>        <span class="org-keyword">try</span>:</code>
<code>          <span class="org-variable-name">glyph</span> = font.createMappedChar(name)</code>
<code>        <span class="org-keyword">except</span>:</code>
<code>          <span class="org-variable-name">glyph</span> = font.createChar(-1, name)</code>
<code>        <span class="org-variable-name">base</span> = glyph_filename_base(name)</code>
<code>        <span class="org-variable-name">svg_filename</span> = os.path.join(params[<span class="org-string">'glyph_dir'</span>], base + <span class="org-string">'.svg'</span>)</code>
<code>        <span class="org-variable-name">png_filename</span> = os.path.join(params[<span class="org-string">'glyph_dir'</span>], base + <span class="org-string">'.png'</span>)</code>
<code>        glyph.importOutlines(png_filename)</code>
<code>        glyph.importOutlines(svg_filename)</code>
<code>      <span class="org-keyword">except</span>:</code>
<code>        <span class="org-keyword">print</span>(<span class="org-string">"Error with "</span>, name)</code>
<code>        <span class="org-keyword">pass</span></code>
<code>  <span class="org-variable-name">font.em</span> = old_em</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgee2c505" class="outline-3">
<h3 id="orgee2c505">Adjust bearings</h3>
<div class="outline-text-3" id="text-orgee2c505">
<div class="org-src-container">
<pre class="src src-python" id="orgd175550"><code><span class="org-keyword">def</span> <span class="org-function-name">set_bearings</span>(font, bearings, **kwargs):</code>
<code>  (default_left, default_right) = <span class="org-builtin">next</span>(o <span class="org-keyword">for</span> o <span class="org-keyword">in</span> bearings[1:] <span class="org-keyword">if</span> o[0] == <span class="org-string">'Default'</span>)[1:]</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    font[g]<span class="org-variable-name">.left_side_bearing</span> = default_left</code>
<code>    font[g]<span class="org-variable-name">.right_side_bearing</span> = default_right</code>
<code>  <span class="org-variable-name">space</span> = font.createMappedChar(<span class="org-string">'space'</span>)</code>
<code>  <span class="org-variable-name">space.width</span> = <span class="org-builtin">int</span>(font.em / 5)</code>
<code>  <span class="org-keyword">for</span> row <span class="org-keyword">in</span> bearings[1:]:</code>
<code>    <span class="org-keyword">if</span> row[0] == <span class="org-string">'Default'</span>: <span class="org-keyword">continue</span></code>
<code>    <span class="org-keyword">try</span>:</code>
<code>      <span class="org-variable-name">g</span> = font.createMappedChar(row[0])</code>
<code>    <span class="org-keyword">except</span>:</code>
<code>      <span class="org-variable-name">g</span> = font.createChar(-1, row[0])</code>
<code>    <span class="org-keyword">if</span> row[1] != <span class="org-string">""</span>:</code>
<code>      <span class="org-variable-name">g.left_side_bearing</span> = row[1]</code>
<code>    <span class="org-keyword">if</span> row[2] != <span class="org-string">""</span>:</code>
<code>      <span class="org-variable-name">g.right_side_bearing</span> = row[2]</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdac9851" class="outline-3">
<h3 id="orgdac9851">Kern the font</h3>
<div class="outline-text-3" id="text-orgdac9851">
</div>
<div id="outline-container-orgfdc8cba" class="outline-4">
<h4 id="orgfdc8cba">Kern by classes</h4>
<div class="outline-text-4" id="text-orgfdc8cba">
<p>
NOTE: This removes the old kerning table.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org923937e"><code><span class="org-keyword">def</span> <span class="org-function-name">kern_classes</span>(font, kerning_matrix):</code>
<code>  <span class="org-keyword">try</span>:</code>
<code>    font.removeLookup(<span class="org-string">'kern'</span>)</code>
<code>    <span class="org-keyword">print</span>(<span class="org-string">"Old table removed."</span>)</code>
<code>  <span class="org-keyword">except</span>:</code>
<code>    <span class="org-keyword">print</span>(<span class="org-string">"Starting from scratch"</span>)    </code>
<code>  font.addLookup(<span class="org-string">"kern"</span>, <span class="org-string">"gpos_pair"</span>, 0, [[<span class="org-string">"kern"</span>,[[<span class="org-string">"latn"</span>,[<span class="org-string">"dflt"</span>]]]]])</code>
<code>  <span class="org-variable-name">offsets</span> = np.asarray(kerning_matrix)</code>
<code>  <span class="org-variable-name">classes_right</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">","</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[0,1:]]</code>
<code>  <span class="org-variable-name">classes_left</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,0]]</code>
<code>  <span class="org-variable-name">offset_list</span> = [0 <span class="org-keyword">if</span> x == <span class="org-string">""</span> <span class="org-keyword">else</span> <span class="org-builtin">int</span>(x) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,1:].reshape(-1)]</code>
<code>  <span class="org-keyword">print</span>(classes_left)</code>
<code>  <span class="org-keyword">print</span>(classes_right)</code>
<code>  <span class="org-keyword">print</span>(offset_list)</code>
<code>  font.addKerningClass(<span class="org-string">"kern"</span>, <span class="org-string">"kern-1"</span>, classes_left, classes_right, offset_list)</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org9621ab1" class="outline-4">
<h4 id="org9621ab1">Kern by character</h4>
<div class="outline-text-4" id="text-org9621ab1">
<p>
While trying to figure out kerning, I came across this issue that
described how you sometimes need a <a href="https://www.dafont.com/forum/read/405813/the-kerning-is-set-in-a-way-that-doesn-t-work-at-dafont-we-use-the-gd-library-of-php">character-pair kern table instead
of just class-based kerning</a>. Since I had figured out character-based
kerning before I figured out class-based kerning, it was easy to
restore my Python code that takes the same kerning matrix and
generates character pairs. Here's what that code looks like.
</p>

<div class="org-src-container">
<pre class="src src-python" id="orgeea28aa"><code><span class="org-keyword">def</span> <span class="org-function-name">kern_by_char</span>(font, kerning_matrix):</code>
<code>  <span class="org-comment-delimiter"># </span><span class="org-comment">Add kerning by character as backup</span></code>
<code>  font.addLookupSubtable(<span class="org-string">"kern"</span>, <span class="org-string">"kern-2"</span>)</code>
<code>  <span class="org-variable-name">offsets</span> = np.asarray(kerning_matrix)</code>
<code>  <span class="org-variable-name">classes_right</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">","</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[0,1:]]</code>
<code>  <span class="org-variable-name">classes_left</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,0]]</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_left):</code>
<code>    <span class="org-keyword">if</span> row <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>    <span class="org-keyword">for</span> first_letter <span class="org-keyword">in</span> row:</code>
<code>      <span class="org-variable-name">g</span> = font.createMappedChar(first_letter)</code>
<code>      <span class="org-keyword">for</span> c, column <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_right):</code>
<code>        <span class="org-keyword">if</span> column <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>        <span class="org-keyword">for</span> second_letter <span class="org-keyword">in</span> column:</code>
<code>          <span class="org-keyword">if</span> kerning_matrix[r + 1][c + 1]:</code>
<code>            g.addPosSub(<span class="org-string">"kern-2"</span>, second_letter, 0, 0, kerning_matrix[r + 1][c + 1], 0, 0, 0, 0, 0)</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org9ef6e3d" class="outline-3">
<h3 id="org9ef6e3d">Hand-tweak the glyphs</h3>
<div class="outline-text-3" id="text-org9ef6e3d">
<div class="org-src-container">
<pre class="src src-python" id="org34b3e24"><code><span class="org-keyword">def</span> <span class="org-function-name">copy_glyphs</span>(font, edited):</code>
<code>  edited.selection.<span class="org-builtin">all</span>()</code>
<code>  edited.copy()</code>
<code>  font.selection.<span class="org-builtin">all</span>()</code>
<code>  font.paste()</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org57907ef" class="outline-2">
<h2 id="org57907ef">Generate fonts</h2>
<div class="outline-text-2" id="text-org57907ef">
<p>
I wanted to be able to easily compare different versions of my font:
my original glyphs versus my tweaked glyphs, simple spacing versus
kerned. This was a hassle with FontForge, since I had to open
different font files in different Metrics windows. If I execute a
little bit of source code in my Org Mode, though, I can use my test
web page to view all the different versions. By arranging my Emacs
windows a certain way and adding <code>:eval no</code> to the Org Babel blocks
I'm not currently using, I can easily change the relevant table
entries and evaluate the whole buffer to regenerate the font versions,
including exports to OTF and WOFF. 
</p>

<p>
This code helps me update my hand-edited fonts.
</p>
<div class="org-src-container">
<pre class="src src-python" id="org49d242f"><code><span class="org-keyword">def</span> <span class="org-function-name">kern_existing_font</span>(filename=<span class="org-constant">None</span>, font=<span class="org-constant">None</span>, bearings=<span class="org-constant">None</span>, kerning_matrix=<span class="org-constant">None</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> font <span class="org-keyword">is</span> <span class="org-constant">None</span>:</code>
<code>    <span class="org-variable-name">font</span> = load_font(filename)</code>
<code>  <span class="org-variable-name">font</span> = set_bearings(font, bearings)</code>
<code>  <span class="org-variable-name">font</span> = kern_classes(font, kerning_matrix)</code>
<code>  <span class="org-variable-name">font</span> = kern_by_char(font, kerning_matrix)</code>
<code>  save_font(font)</code>
<code>  <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">"test-%s.html"</span> % font.fontname, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>    f.write(test_font_html(font.fontname + <span class="org-string">'.woff'</span>))</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org6718142"><code>&lt;&lt;params&gt;&gt;</code>
<code>&lt;&lt;def_cut_glyphs&gt;&gt;</code>
<code>&lt;&lt;def_import_glyphs&gt;&gt;</code>
<code>&lt;&lt;def_set_bearings&gt;&gt;</code>
<code>&lt;&lt;def_kern_classes&gt;&gt;</code>
<code>&lt;&lt;def_kern_by_char&gt;&gt;</code>
<code>&lt;&lt;def_kern_existing_font&gt;&gt;</code>
<code>&lt;&lt;def_test_font_html&gt;&gt;</code>
</pre>
</div>
</div>

<div id="outline-container-orgc5e8511" class="outline-3">
<h3 id="orgc5e8511">Generate sachacHand Light</h3>
<div class="outline-text-3" id="text-orgc5e8511">
<table id="orge86d3bf" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">60</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">60</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">60</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">30</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">80</td>
<td class="org-right">80</td>
</tr>

<tr>
<td class="org-left">h</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">80</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-70</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">80</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">80</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">o</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">70</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">60</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">w</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<p>
Rows are first characters, columns are second characters.
</p>

<table id="orgca051e4" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t</td>
<td class="org-right">x,v,z</td>
<td class="org-right">h,b,l,i</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-left">k</td>
<td class="org-right">y</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-left">F</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-30</td>
<td class="org-right">-61</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">0</td>
<td class="org-right">-50</td>
<td class="org-right">-41</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">0</td>
<td class="org-right">-32</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">29</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">0</td>
<td class="org-right">-10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-48</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-79</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">0</td>
<td class="org-right">-10</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-110</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-35</td>
<td class="org-right">-15</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">43</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-right">0</td>
<td class="org-right">-23</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-right">-120</td>
<td class="org-right">-120</td>
<td class="org-right">-30</td>
<td class="org-right">-40</td>
<td class="org-right">-130</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">-80</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">0</td>
<td class="org-right">-90</td>
<td class="org-right">-90</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-80</td>
<td class="org-right">-40</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">0</td>
<td class="org-right">-100</td>
<td class="org-right">-70</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">q,d,h,y,j</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-left">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">40</td>
<td class="org-right">20</td>
<td class="org-right">-80</td>
<td class="org-right">-120</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-left">20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-left">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-left">10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-left">10</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandLightEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Light'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Light'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 200</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>    font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(font=font, bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>

<pre class="example">
<code>Old table removed.</code>
<code>[None, ['f'], ['t'], ['i'], ['r'], ['k'], ['l'], ['v'], ['b', 'o', 'p'], ['n', 'm'], ['a'], ['W'], ['T'], ['F'], ['P'], ['g'], ['q', 'd', 'h', 'y', 'j'], ['c', 'e', 's', 'u', 'w', 'x', 'z'], ['V'], ['A'], ['Y'], ['M', 'N', 'H', 'I'], ['O', 'Q', 'D', 'U'], ['J'], ['C'], ['E'], ['L'], ['P'], ['K', 'R'], ['G'], ['B', 'S', 'X', 'Z']]</code>
<code>[None, ['o', 'a', 'c', 'e', 'd', 'g', 'q', 'w'], ['f', 't'], ['x', 'v', 'z'], ['h', 'b', 'l', 'i'], ['j'], ['m', 'n', 'p', 'r', 'u'], ['k'], ['y'], ['s'], ['T'], ['F'], ['zero']]</code>
<code>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -30, -61, -20, 0, 0, 0, 0, 0, 0, -150, 0, -70, 0, -50, -41, -20, 0, 0, 0, 0, 0, 0, -150, 0, -10, 0, 0, -40, 0, 0, 0, 0, 0, 0, 0, -150, 0, 0, 0, -32, -40, 0, 0, 0, 0, 0, 0, 0, -170, 0, 29, 0, -10, -50, 0, 0, 0, 0, 0, 0, -48, -150, 0, -79, 0, -10, -20, 0, 0, 0, 0, 0, 0, 0, -110, 0, -20, 0, -40, -35, -15, 0, 0, 0, 0, 0, 0, -170, 0, 30, 0, 0, -40, 0, 0, 0, 0, 0, 0, 0, -170, 0, 43, 0, 0, -30, 0, 0, 0, 0, 0, 0, 0, -170, 0, 0, 0, -23, -30, 0, 0, 0, 0, 0, 0, 0, -170, 0, 7, 0, -40, -30, -10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -150, -120, -120, -30, -40, -130, 0, -100, -80, 0, 0, 0, 0, -90, -90, -70, -30, 0, -70, 0, -50, -80, -40, 0, 0, 0, -100, -70, -50, 0, 0, -70, 0, -30, -80, -20, 0, 0, 0, 0, 0, 0, 0, 40, 0, 0, 0, 0, -120, 0, 0, 0, 0, 0, 0, 30, 30, 30, 30, 30, 0, -100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -120, 0, 0, 0, -70, 30, 30, 0, -80, -20, 0, -40, -40, -10, 0, 0, 0, 30, 60, 30, 30, 0, 20, 40, 20, -80, -120, 20, 20, 0, 20, 60, 30, 30, 0, 20, 20, 40, 20, -10, 0, 0, 0, 20, 10, 40, 30, 0, 10, 20, 20, 0, 0, 0, 0, 0, 0, 50, 40, 30, -20, 30, 20, 30, 0, -70, 0, 0, 0, 0, 40, 20, 20, -20, 10, 10, 30, 0, -30, 0, 0, 0, 10, 40, 10, 30, 0, 30, 30, 20, 0, -30, 0, 0, 0, -10, 50, 0, 10, -20, 10, 0, 20, 0, 0, 0, 0, 0, -10, -10, 0, 0, -30, 0, 0, 20, 0, -90, 0, 0, 0, -50, 30, 20, 20, 0, 0, 20, 20, 0, -30, 0, 0, 0, 20, 20, 20, 10, 0, 20, 20, 20, 0, -60, 0, 0, 0, 20, 40, 30, 30, 0, 20, 20, 20, 0, -100, 10, 0, 0, 20, 40, 30, 30, 0, 20, 20, 20, 20, -20, 10, 0]</code>
</pre>
</div>
</div>


<div id="outline-container-org7706c99" class="outline-3">
<h3 id="org7706c99">Generate sachacHand Regular</h3>
<div class="outline-text-3" id="text-org7706c99">
<table id="org498b4e4" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">40</td>
<td class="org-right">-90</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">20</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">40</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">-50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">70</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">-10</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-40</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">50</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">70</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">70</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<table id="org4a0cdb9" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">None</th>
<th scope="col" class="org-right">m,n,p,r</th>
<th scope="col" class="org-right">h,b,l,i,k</th>
<th scope="col" class="org-right">o,a,c,e,d,g,q,w,u</th>
<th scope="col" class="org-right">f,t</th>
<th scope="col" class="org-right">x,v,z</th>
<th scope="col" class="org-right">j</th>
<th scope="col" class="org-right">y</th>
<th scope="col" class="org-right">s</th>
<th scope="col" class="org-right">T</th>
<th scope="col" class="org-right">J</th>
<th scope="col" class="org-right">F,B,D,E,H,I,K,L,M,N,P,R</th>
<th scope="col" class="org-right">V</th>
<th scope="col" class="org-left">A,C,G,K,O,Q,S,W</th>
<th scope="col" class="org-right">U</th>
<th scope="col" class="org-right">X</th>
<th scope="col" class="org-right">Y</th>
<th scope="col" class="org-right">Z</th>
<th scope="col" class="org-right">zero</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">None</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">110</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">-80</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-160</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-50</td>
<td class="org-right">-10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">-20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-140</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-20</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">-100</td>
<td class="org-right">-70</td>
<td class="org-right">-90</td>
<td class="org-right">-120</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-100</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-140</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">h,q,y,j</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-130</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-130</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">-80</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">0</td>
<td class="org-right">50</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">110</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">90</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandRegularEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Regular'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Regular'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 400</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>    font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(filename=<span class="org-string">"sachacHandRegularEdited.sfd"</span>,bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>

<pre class="example">
<code>Bad name when parsing aglfn for unicode 41</code>
<code>Old table removed.</code>
<code>[None, ['f'], ['t'], ['i'], ['r'], ['k'], ['l'], ['v'], ['b', 'o', 'p'], ['n', 'm'], ['a'], ['W'], ['T'], ['F'], ['g'], ['d'], ['h', 'q', 'y', 'j'], ['c', 'e', 's', 'u', 'w', 'x', 'z'], ['V'], ['A'], ['Y'], ['M', 'N', 'H', 'I'], ['O', 'Q', 'D', 'U'], ['J'], ['C'], ['E'], ['L'], ['P'], ['K', 'R'], ['G'], ['B', 'S', 'X', 'Z']]</code>
<code>[None, ['m', 'n', 'p', 'r'], ['h', 'b', 'l', 'i', 'k'], ['o', 'a', 'c', 'e', 'd', 'g', 'q', 'w', 'u'], ['f', 't'], ['x', 'v', 'z'], ['j'], ['y'], ['s'], ['T'], ['J'], ['F', 'B', 'D', 'E', 'H', 'I', 'K', 'L', 'M', 'N', 'P', 'R'], ['V'], ['A', 'C', 'G', 'K', 'O', 'Q', 'S', 'W'], ['U'], ['X'], ['Y'], ['Z'], ['zero']]</code>
<code>[0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, -10, 20, -60, 0, 0, -90, 0, -40, -190, -80, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, -20, 10, 0, -70, 0, 0, -100, 10, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -30, 10, 0, -90, 0, 0, -160, -20, 0, 0, 0, -20, 0, 0, 0, 0, 0, 0, -10, -70, 0, 0, -90, 0, -40, -190, -100, 0, -10, 0, -50, -50, -10, -50, 0, 0, -10, -10, -20, -10, 0, -90, 0, 0, -100, 10, 0, 0, 0, -30, 0, -30, 0, -10, 0, -20, 0, 0, 10, 0, -50, -20, 0, -100, 10, 0, -20, 0, -30, 0, -30, 0, 0, 0, 0, 0, -30, 10, 0, -50, 0, 0, -100, 10, 0, 0, 0, -30, -30, -20, 0, 0, 0, 0, 0, -20, 10, 0, -90, 0, 0, -100, 10, 0, -10, 0, -30, -30, -30, -10, 0, 0, 0, 0, 0, 10, 0, -90, 0, 0, -100, 10, 0, -10, 0, -20, 0, -30, -10, 0, 0, 0, 0, -30, 0, -20, -90, 0, -10, -140, -30, 0, -60, 0, -40, -20, -40, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, -100, 10, 0, 0, 0, -20, 0, 0, 0, 0, 0, -70, -30, -100, -70, -90, -120, -30, -80, -100, -50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -50, 0, 0, -70, 0, 0, -100, -50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -10, 10, 0, -50, 0, 0, -140, 10, 0, 0, 0, -20, 0, 0, 0, 0, 0, 10, 10, 0, 20, 10, -50, 10, 0, -100, 10, 0, 0, 0, 0, 0, 0, 0, 10, 0, 10, 0, 0, 20, 10, -50, 10, 0, -130, 10, 0, 0, 0, -20, 0, 0, 0, 10, 0, 0, 0, -20, 10, 10, -50, 0, 0, -130, 10, 0, 0, 0, -40, -40, -20, 0, 0, 0, -20, 0, -70, 30, 30, -80, -40, -40, -30, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 30, 30, 60, 50, 0, 20, 20, -10, 60, 20, 20, 20, 0, 0, 0, 0, 20, 0, 20, 30, 20, 60, 30, -50, 40, 20, -10, 40, 0, 30, 0, 0, 0, 0, 0, 0, 0, 20, 20, 0, 50, 30, -50, 20, 0, 0, 40, 0, 30, 0, 0, 0, 0, 0, 0, 0, 30, 40, 0, 50, 40, -20, 30, 0, -70, 40, 0, 20, 0, 0, 0, 0, 0, 0, 0, 10, 20, 0, 40, 20, -20, 30, 0, -30, 80, 0, 20, 0, 0, 0, 0, 0, 0, 0, 30, 30, 10, 40, 10, 0, 20, 0, -30, 80, 0, 20, 0, 0, 0, 0, 0, 0, 0, 10, 10, -10, 50, 0, -20, 20, 0, 0, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, -10, -10, 0, -30, 20, 0, -90, 20, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, -50, 30, 20, 0, 20, 0, -30, 80, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 10, 20, 20, 20, 0, 20, 0, -60, 50, 0, 0, 0, 0, 0, 0, 0, 0, 0, 20, 30, 20, 40, 30, 0, 20, 0, -100, 10, 10, 0, 0, 0, 0, 0, 0, 0, 0, 20, 30, 20, 40, 30, 0, 20, 20, -20, 90, 10, 0, 0, 0, 0, 0, 0, 0]</code>
</pre>
</div>
</div>


<div id="outline-container-org7449696" class="outline-3">
<h3 id="org7449696">Generate sachacHand Bold</h3>
<div class="outline-text-3" id="text-org7449696">
<p>
For cutting the glyphs:
</p>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'row_padding'</span>: 50,</code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'sample-sachacHand-regular.png'</span>,</code>
<code>          <span class="org-string">'new_font_file'</span>: <span class="org-string">'sachacHandRegular.sfd'</span>,</code>
<code>          <span class="org-string">'new_otf'</span>: <span class="org-string">'sachacHandRegular.otf'</span>,</code>
<code>          <span class="org-string">'letters'</span>: <span class="org-constant">None</span>,</code>
<code>          <span class="org-string">'matrix'</span>:</code>
<code>            [<span class="org-string">'H,e,q,A,M,Y,8,\',#,&lt;'</span>,</code>
<code>             <span class="org-string">'O,b,r,B,N,Z,9,quoteright,$,&gt;'</span>,</code>
<code>             <span class="org-string">'n,h,u,R,P,0,?,",['</span>,</code>
<code>             <span class="org-string">'o,k,w,D,Q,1,:,quotedblleft,&amp;,]'</span>,</code>
<code>             <span class="org-string">'d,l,v,L,S,2,;,quotedblright,(,^'</span>,</code>
<code>             <span class="org-string">'p,f,x,E,T,3,-,@,),`'</span>,</code>
<code>             <span class="org-string">'a,t,y,F,U,4,endash,/,*,{'</span>,</code>
<code>             <span class="org-string">'g,i,z,I,V,5,emdash,\\,+,|'</span>,</code>
<code>             <span class="org-string">'s,j,C,J,W,6,=,~,comma,}'</span>,</code>
<code>             <span class="org-string">'c,m,G,K,X,7,!,_,.,I.alt1'</span>]}</code>
<code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">cut_glyphs(**params)</span></code>
</pre>
</div>

<p>
Kerning:
</p>

<table id="org65ca13a" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">20</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">-50</td>
<td class="org-right">-80</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">50</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">60</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">-10</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">60</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<table id="orgb1062a5" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t</td>
<td class="org-right">x,v,z</td>
<td class="org-right">h,b,l,i</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-right">k</td>
<td class="org-right">y</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-right">F</td>
<td class="org-right">V</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">-90</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-160</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-90</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
<td class="org-right">-90</td>
<td class="org-right">-30</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">q,d,h,y,j</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">font = fontforge.font()</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">font = import_glyphs(font, **params)</span></code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandBoldEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Bold'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Bold'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 600</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>  font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(font=font, bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>

<pre class="example">
<code>Starting from scratch</code>
<code>[None, ['n', 'm'], ['f'], ['t'], ['i'], ['r'], ['k'], ['l'], ['v'], ['b', 'o', 'p'], ['a'], ['W'], ['T'], ['F'], ['g'], ['q', 'd', 'h', 'y', 'j'], ['c', 'e', 's', 'u', 'w', 'x', 'z'], ['V'], ['A'], ['Y'], ['M', 'N', 'H', 'I'], ['O', 'Q', 'D', 'U'], ['J'], ['C'], ['E'], ['L'], ['P'], ['K', 'R'], ['G'], ['B', 'S', 'X', 'Z']]</code>
<code>[None, ['o', 'a', 'c', 'e', 'd', 'g', 'q', 'w'], ['f', 't'], ['x', 'v', 'z'], ['h', 'b', 'l', 'i'], ['j'], ['m', 'n', 'p', 'r', 'u'], ['k'], ['y'], ['s'], ['T'], ['F'], ['V'], ['zero']]</code>
<code>[0, 0, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, 0, 20, 0, 0, -90, 0, 0, 0, 0, -100, 0, -100, 0, 0, -10, 0, 0, 20, -90, 10, 20, 0, -40, -190, 20, 0, 0, 0, -20, 10, 0, 0, -70, 20, 20, 0, 0, -100, 0, 0, 0, 0, -30, 10, 0, 0, -90, 0, 0, 0, 0, -160, 0, 0, 0, 0, -70, 0, 0, -10, -90, 0, 0, 0, -40, -190, 0, 0, 0, 0, -20, -10, 0, -10, -90, -10, 0, 0, 0, -100, 0, 0, -10, 0, 0, 10, 0, 0, 0, 0, 20, 0, 0, -100, 0, 0, 0, 0, -30, 10, 0, 0, -50, 0, 0, 0, 0, -100, 0, 0, 0, 0, -20, 10, 0, 0, -90, 0, 0, 0, 0, -100, 0, 0, 0, 0, 0, 0, 0, 0, -90, 0, 0, 0, -10, -100, 0, 0, 0, 0, 0, 20, 0, 0, 0, 0, 0, 0, 0, -100, 0, 0, 0, 0, -120, -70, -90, -30, -120, -70, -30, -30, -80, -100, 0, 0, 0, 0, -90, 0, 0, 0, -70, 0, 0, 0, 0, -100, 0, 0, 0, 0, 0, 10, 0, 0, -50, 0, 0, 0, 0, -100, 0, 0, 0, 0, 0, 20, 10, 10, -50, 10, 10, 10, 0, -100, 0, 0, 10, 0, -20, 10, 10, 0, -50, 0, 0, 0, 0, -100, 0, 0, 0, 0, -70, 30, 30, 0, -80, -20, 0, -40, -40, -10, 0, 0, 0, 0, 30, 60, 30, 30, 0, 20, 40, 20, 20, -10, 20, 0, 20, 0, 20, 60, 30, 30, 0, 20, 20, 40, 20, -10, 0, 0, 0, 0, 20, 50, 40, 30, 0, 10, 20, 20, 0, 0, 0, 0, 0, 0, 0, 50, 40, 30, -20, 30, 20, 30, 0, -70, 0, 0, 0, 0, 0, 40, 20, 20, -20, 10, 10, 30, 0, -30, 0, 0, 0, 0, 10, 40, 10, 30, 0, 30, 30, 20, 0, -30, 0, 0, 0, 0, -10, 50, 0, 10, -20, 10, 0, 20, 0, 0, 0, 0, 0, 0, -10, -10, 0, 0, -30, 0, 0, 20, 0, -90, 0, 0, 0, 0, -50, 30, 20, 20, 0, 0, 20, 20, 0, -30, 0, 0, 0, 0, 20, 20, 20, 10, 0, 20, 20, 20, 0, -60, 0, 0, 0, 0, 20, 40, 30, 30, 0, 20, 20, 20, 0, -100, 10, 0, 0, 0, 20, 40, 30, 30, 0, 20, 20, 20, 20, -20, 10, 0, 0]</code>
</pre>
</div>
</div>
</div>


<div id="outline-container-org80755ab" class="outline-2">
<h2 id="org80755ab">Variants</h2>
<div class="outline-text-2" id="text-org80755ab">
<p>
<a href="https://www.youtube.com/watch?v=WqSQU7nuTsc">https://www.youtube.com/watch?v=WqSQU7nuTsc</a>
<a href="https://www.tug.org/TUGboat/tb24-3/williams.pdf">https://www.tug.org/TUGboat/tb24-3/williams.pdf</a>
<a href="https://typedrawers.com/discussion/1357/how-can-i-randomize-letters-in-a-typeface">https://typedrawers.com/discussion/1357/how-can-i-randomize-letters-in-a-typeface</a>
<a href="http://learn.scannerlicker.net/2015/06/12/making-a-font-maximal-part-iii/">http://learn.scannerlicker.net/2015/06/12/making-a-font-maximal-part-iii/</a>
</p>
</div>
</div>

<div id="outline-container-orgd6cd575" class="outline-2">
<h2 id="orgd6cd575">Test the fonts</h2>
<div class="outline-text-2" id="text-orgd6cd575">
<p>
This lets me quickly try text with different versions of my font. I
can also look at lots of kerning pairs at the same time.
</p>

<p>
Resources:
</p>
<ul class="org-ul">
<li><a href="http://famira.com/article/letterproef">http://famira.com/article/letterproef</a></li>
<li><a href="http://ninastoessinger.com/stringmaker/index.php">http://ninastoessinger.com/stringmaker/index.php</a></li>
</ul>

<table id="org8be5d2c" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Output</th>
<th scope="col" class="org-left">Font filename</th>
<th scope="col" class="org-left">Class</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">test-regular.html</td>
<td class="org-left">sachacHand.woff</td>
<td class="org-left">regular</td>
</tr>

<tr>
<td class="org-left">test-bold.html</td>
<td class="org-left">sachacHandBold.woff</td>
<td class="org-left">bold</td>
</tr>

<tr>
<td class="org-left">test-black.html</td>
<td class="org-left">sachacHandBlack.woff</td>
<td class="org-left">black</td>
</tr>
</tbody>
</table>

<pre class="example">
<code>[['test-regular.html', 'sachacHand.woff', 'regular'], ['test-bold.html', 'sachacHandBold.woff', 'bold'], ['test-black.html', 'sachacHandBlack.woff', 'black']]</code>
<code>[{'output': 'test-regular.html', 'font_filename': 'sachacHand.woff', 'klass': 'regular'}, {'output': 'test-bold.html', 'font_filename': 'sachacHandBold.woff', 'klass': 'bold'}, {'output': 'test-black.html', 'font_filename': 'sachacHandBlack.woff', 'klass': 'black'}]</code>
</pre>


<div class="org-src-container">
<pre class="src src-python" id="orga55c230"><code><span class="org-variable-name">strings</span> = [<span class="org-string">"hhhhnnnnnnhhhhhnnnnnn"</span>, </code>
<code>           <span class="org-string">"ooonoonnonnn"</span>,</code>
<code>           <span class="org-string">"nnannnnbnnnncnnnndnnnnennnnfnnnngnnnnhnnnninnnnjnn"</span>,</code>
<code>           <span class="org-string">"nnknnnnlnnnnmnnnnnnnnnonnnnpnnnnqnnnnrnnnnsnnnntnn"</span>,</code>
<code>           <span class="org-string">"nnunnnnvnnnnwnnnnxnnnnynnnnznn"</span>,</code>
<code>           <span class="org-string">"HHHOHHOOHOOO"</span>,</code>
<code>           <span class="org-string">"HHAHHHHBHHHHCHHHHDHHHHEHHHHFHHHHGHHHHHHHHHIHHHHJHH"</span>,</code>
<code>           <span class="org-string">"HHKHHHHLHHHHMHHHHNHHHHOHHHHPHHHHQHHHHRHHHHSHHHHTHH"</span>,</code>
<code>           <span class="org-string">"HHUHHHHVHHHHWHHHHXHHHHYHHHHZHH"</span>,</code>
<code>           <span class="org-string">"Having fun kerning using Org Mode and FontForge"</span>,</code>
<code>           <span class="org-string">"Python+FontForge+Org: I made a font based on my handwriting!"</span>,</code>
<code>           <span class="org-string">"Monthly review: May 2020"</span>,</code>
<code>           <span class="org-string">"Emacs News 2020-06-01"</span>]</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_strings</span>(strings):</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">with</span> doc.tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-bottom: 1px solid gray; width: 100%; border-collapse: collapse'</span>):</code>
<code>    <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>      <span class="org-keyword">for</span> i, f <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(fonts):</code>
<code>        <span class="org-variable-name">style</span> = <span class="org-string">'border-top: 1px solid gray'</span> <span class="org-keyword">if</span> (i == 0) <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=f[0], style=style):</code>
<code>          line(<span class="org-string">'td'</span>, f[0])</code>
<code>          line(<span class="org-string">'td'</span>, s)</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_kerning_matrix</span>(font):</code>
<code>  <span class="org-variable-name">sub</span> = font.getLookupSubtables(font.gpos_lookups[0])</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">for</span> s <span class="org-keyword">in</span> sub:</code>
<code>    <span class="org-keyword">if</span> font.isKerningClass(s):</code>
<code>      (classes_left, classes_right, array) = font.getKerningClass(s)</code>
<code>      <span class="org-variable-name">kerning</span> = np.array(array).reshape(<span class="org-builtin">len</span>(classes_left), <span class="org-builtin">len</span>(classes_right))</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-collapse: collapse'</span>):</code>
<code>        <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_left):</code>
<code>          <span class="org-keyword">if</span> row <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>          <span class="org-keyword">for</span> j, first_letter <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>            <span class="org-keyword">if</span> first_letter == <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>            <span class="org-variable-name">style</span> = <span class="org-string">"border-top: 1px solid gray"</span> <span class="org-keyword">if</span> j == 0 <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, style=style):</code>
<code>              line(<span class="org-string">'td'</span>, first_letter)</code>
<code>              <span class="org-keyword">for</span> c, column <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_right):</code>
<code>                <span class="org-keyword">if</span> column <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>                <span class="org-keyword">for</span> i, second_letter <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(column):</code>
<code>                  <span class="org-keyword">if</span> second_letter <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>                  <span class="org-variable-name">klass</span> = <span class="org-string">"kerned"</span> <span class="org-keyword">if</span> kerning[r][c] <span class="org-keyword">else</span> <span class="org-string">"default"</span></code>
<code>                  <span class="org-variable-name">style</span> = <span class="org-string">"border-left: 1px solid gray"</span> <span class="org-keyword">if</span> i == 0 <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>                  <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>, klass=klass, style=style):</code>
<code>                    text(<span class="org-string">'n%s%sn'</span> % (aglfn.to_glyph(first_letter), aglfn.to_glyph(second_letter)))</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
<code><span class="org-keyword">from</span> yattag <span class="org-keyword">import</span> Doc</code>
<code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code></code>
<code><span class="org-variable-name">strings</span> = [<span class="org-string">"hhhhnnnnnnhhhhhnnnnnn"</span>, </code>
<code>           <span class="org-string">"ooonoonnonnn"</span>,</code>
<code>           <span class="org-string">"nnannnnbnnnncnnnndnnnnennnnfnnnngnnnnhnnnninnnnjnn"</span>,</code>
<code>           <span class="org-string">"nnknnnnlnnnnmnnnnnnnnnonnnnpnnnnqnnnnrnnnnsnnnntnn"</span>,</code>
<code>           <span class="org-string">"nnunnnnvnnnnwnnnnxnnnnynnnnznn"</span>,</code>
<code>           <span class="org-string">"HHHOHHOOHOOO"</span>,</code>
<code>           <span class="org-string">"HHAHHHHBHHHHCHHHHDHHHHEHHHHFHHHHGHHHHHHHHHIHHHHJHH"</span>,</code>
<code>           <span class="org-string">"HHKHHHHLHHHHMHHHHNHHHHOHHHHPHHHHQHHHHRHHHHSHHHHTHH"</span>,</code>
<code>           <span class="org-string">"HHUHHHHVHHHHWHHHHXHHHHYHHHHZHH"</span>,</code>
<code>           <span class="org-string">"Having fun kerning using Org Mode and FontForge"</span>,</code>
<code>           <span class="org-string">"Python+FontForge+Org: I made a font based on my handwriting!"</span>,</code>
<code>           <span class="org-string">"Monthly review: May 2020"</span>,</code>
<code>           <span class="org-string">"Emacs News 2020-06-01"</span>]</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_glyphs</span>(font):</code>
<code>  <span class="org-keyword">return</span> <span class="org-string">''</span>.join([(aglfn.to_glyph(g) <span class="org-keyword">or</span> <span class="org-string">""</span>) <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font <span class="org-keyword">if</span> font[g].isWorthOutputting()])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_font_html</span>(font_filename=<span class="org-constant">None</span>):</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(font_filename)</code>
<code>  <span class="org-variable-name">name</span> = font.fontname</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>): </code>
<code>      doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'style'</span>):</code>
<code>        doc.asis(<span class="org-string">"@font-face { font-family: '%s'; src: url('%s'); }\n"</span> % (name, font_filename))</code>
<code>        doc.asis(<span class="org-string">"body { font-family: '%s'; }\n"</span> % name)</code>
<code>        doc.asis(<span class="org-string">".bold { font-weight: bold } .italic { font-style: italic } .oblique { font-style: oblique }"</span>)</code>
<code>        doc.asis(<span class="org-string">".small-caps { font-variant: small-caps }"</span>)</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>):</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'index.html'</span>):</code>
<code>        text(<span class="org-string">'Back to index'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'div'</span>, style=<span class="org-string">'float: right'</span>):</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=font.fullname + <span class="org-string">'.woff'</span>):</code>
<code>          text(<span class="org-string">'WOFF'</span>)</code>
<code>        text(<span class="org-string">' | '</span>)</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=font.fullname + <span class="org-string">'.otf'</span>):</code>
<code>          text(<span class="org-string">'OTF'</span>)</code>
<code>      line(<span class="org-string">'h1'</span>, font.fullname)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Glyphs and sizes'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> size <span class="org-keyword">in</span> [10, 14, 20, 24, 36, 72]:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, style=<span class="org-string">'font-size: %dpt'</span> % size):</code>
<code>            line(<span class="org-string">'td'</span>, size)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Transformations'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> t <span class="org-keyword">in</span> [<span class="org-string">'normal'</span>, <span class="org-string">'bold'</span>, <span class="org-string">'italic'</span>, <span class="org-string">'oblique'</span>, <span class="org-string">'bold italic'</span>, <span class="org-string">'bold oblique'</span>, <span class="org-string">'small-caps'</span>, <span class="org-string">'bold small-caps'</span>]:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=t):</code>
<code>            line(<span class="org-string">'td'</span>, t)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Test strings'</span>)</code>
<code>      <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>        line(<span class="org-string">'div'</span>, s)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Kerning matrix'</span>)</code>
<code>      doc.asis(test_kerning_matrix(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'License'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'pre'</span>, klass=<span class="org-string">'license'</span>):</code>
<code>        text(font.<span class="org-constant">copyright</span>)</code>
<code>      <span class="org-comment-delimiter"># </span><span class="org-comment">http://famira.com/article/letterproef</span></code>
<code>  font.close()</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org734338d"><code>&lt;&lt;def_test_html&gt;&gt;</code>
<code><span class="org-variable-name">font_files</span> = [<span class="org-string">'sachacHand-Light.woff'</span>, <span class="org-string">'sachacHand-Regular.woff'</span>, <span class="org-string">'sachacHand-Bold.woff'</span>]</code>
<code><span class="org-variable-name">fonts</span> = {}</code>
<code></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Write the main page</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'index.html'</span>, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>): </code>
<code>      doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'style'</span>):</code>
<code>        <span class="org-keyword">for</span> p <span class="org-keyword">in</span> font_files:</code>
<code>          <span class="org-variable-name">fonts</span>[p] = fontforge.<span class="org-builtin">open</span>(p)</code>
<code>          doc.asis(<span class="org-string">"@font-face { font-family: '%s'; src: url('%s'); }\n"</span> % (fonts[p].fontname, p))</code>
<code>          doc.asis(<span class="org-string">".%s { font-family: '%s'; }"</span> % (fonts[p].fontname, fonts[p].fontname))</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>):</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'https://github.com/sachac/sachac-hand'</span>):</code>
<code>        text(<span class="org-string">'View source code on Github'</span>)</code>
<code>      line(<span class="org-string">'h1'</span>, <span class="org-string">'Summary'</span>)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Glyphs'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> p <span class="org-keyword">in</span> fonts:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=fonts[p].fontname):</code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>):</code>
<code>              <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'test-%s.html'</span> % fonts[p].fontname):</code>
<code>                text(fonts[p].fullname)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(fonts[p]))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Strings'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-bottom: 1px solid gray; width: 100%; border-collapse: collapse'</span>):</code>
<code>        <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>          <span class="org-keyword">for</span> i, p <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(fonts):</code>
<code>            <span class="org-variable-name">style</span> = <span class="org-string">'border-top: 1px solid gray'</span> <span class="org-keyword">if</span> (i == 0) <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=fonts[p].fontname, style=style):</code>
<code>              <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>):</code>
<code>                <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'test-%s.html'</span> % fonts[p].fontname):</code>
<code>                  text(fonts[p].fullname)</code>
<code>              line(<span class="org-string">'td'</span>, s)</code>
<code>  f.write(doc.getvalue())</code>
</pre>
</div>

<p>
Oh, can I get livereload working? There's a <code>python3-livereload</code>&#x2026; Ah, it's as simple as running <code>livereload</code>.
</p>
</div>
</div>

<div id="outline-container-org9fd35b7" class="outline-2">
<h2 id="org9fd35b7">Ideas</h2>
<div class="outline-text-2" id="text-org9fd35b7">
</div>
<div id="outline-container-org20cccc0" class="outline-3">
<h3 id="org20cccc0"><span class="done DONE">DONE</span> Copy glyphs from hand-edited font</h3>
<div class="outline-text-3" id="text-org20cccc0">
</div>
</div>
<div id="outline-container-org6bcabe3" class="outline-3">
<h3 id="org6bcabe3"><span class="todo TODO">TODO</span> Alternate glyphs</h3>
</div>
<div id="outline-container-org297a30d" class="outline-3">
<h3 id="org297a30d"><span class="todo TODO">TODO</span> Ligatures</h3>
</div>
<div id="outline-container-orgaecd342" class="outline-3">
<h3 id="orgaecd342"><span class="todo TODO">TODO</span> Accents</h3>
</div>
<div id="outline-container-org297ed13" class="outline-3">
<h3 id="org297ed13">Generating a zero-width version?</h3>
<div class="outline-text-3" id="text-org297ed13">
</div>
<div id="outline-container-orgc20a514" class="outline-4">
<h4 id="orgc20a514">Export glyphs, autotrace them, and load them into a different font</h4>
<div class="outline-text-4" id="text-orgc20a514">
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> os</code>
<code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">export_glyphs</span>(font, directory):</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    <span class="org-keyword">if</span> font[g].isWorthOutputting():</code>
<code>      <span class="org-variable-name">filename</span> = os.path.join(directory, g)</code>
<code>      font[g].export(filename + <span class="org-string">".png"</span>, params[<span class="org-string">'em'</span>], 1)</code>
<code>      subprocess.call([<span class="org-string">"convert"</span>, filename + <span class="org-string">".png"</span>, filename + <span class="org-string">".pbm"</span>])</code>
<code>      subprocess.call([<span class="org-string">"autotrace"</span>, <span class="org-string">"-centerline"</span>, <span class="org-string">"-output-file"</span>, filename + <span class="org-string">".svg"</span>, filename + <span class="org-string">".pbm"</span>])</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">zero_glyphs</span>(font, directory):</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    <span class="org-variable-name">glyph</span> = font[g]</code>
<code>    <span class="org-keyword">if</span> glyph.isWorthOutputting():</code>
<code>      glyph.clear()</code>
<code>      glyph.importOutlines(os.path.join(directory, g + <span class="org-string">'.svg'</span>))</code>
<code>  <span class="org-keyword">return</span> font</code>
<code><span class="org-variable-name">font</span> = load_font(params[<span class="org-string">'new_font_file'</span>])</code>
<code><span class="org-variable-name">directory</span> = <span class="org-string">'exported-glyphs'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">export_glyphs(font, directory)</span></code>
<code><span class="org-variable-name">font</span> = zero_glyphs(font, directory)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Zero'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Zero'</span></code>
<code><span class="org-variable-name">font.weight</span> = <span class="org-string">'Zero'</span></code>
<code>save_font(font, {**params, <span class="org-string">"new_font_file"</span>: <span class="org-string">"sachacHandZero.sfd"</span>, <span class="org-string">"new_otf"</span>: <span class="org-string">"sachacHandZero.otf"</span>})</code>
</pre>
</div>

<p>
Huh. I want the latest version so that I can pass keyword arguments.
</p>

<p>
1023,/home/sacha/vendor/fontforge% cd build            
cmake -GNinja .. -DENABLE_FONTFORGE_EXTRAS=ON 
ninja
ninja install
</p>
<p>
<a href="https://superuser.com/questions/1337567/how-do-i-convert-a-ttf-into-individual-png-character-images">https://superuser.com/questions/1337567/how-do-i-convert-a-ttf-into-individual-png-character-images</a>
</p>
</div>
</div>
<div id="outline-container-orgbfa6429" class="outline-4">
<h4 id="orgbfa6429"><span class="todo TODO">TODO</span> Manually edit the glyphs to make them look okay</h4>
</div>
<div id="outline-container-orgab887e0" class="outline-4">
<h4 id="orgab887e0"><span class="todo TODO">TODO</span> Double up the paths and close them</h4>
<div class="outline-text-4" id="text-orgab887e0">
<p>
<a href="https://wiki.inkscape.org/wiki/index.php/CalligraphedOutlineFill">https://wiki.inkscape.org/wiki/index.php/CalligraphedOutlineFill</a> ?
</p>
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> inkex</code>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-orgc900221" class="outline-3">
<h3 id="orgc900221"><span class="todo TODO">TODO</span> Make a font for A-</h3>
<div class="outline-text-3" id="text-orgc900221">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'a-kiddo-sample.png'</span>,</code>
<code>          <span class="org-string">'new_font_file'</span>: <span class="org-string">'aKiddoHand.sfd'</span>,</code>
<code>          <span class="org-string">'new_otf'</span>: <span class="org-string">'aKiddoHand.otf'</span>,</code>
<code>          <span class="org-string">'new_font_name'</span>: <span class="org-string">'aKiddoHand'</span>,</code>
<code>          <span class="org-string">'new_family_name'</span>: <span class="org-string">'aKiddoHand'</span>,</code>
<code>          <span class="org-string">'new_full_name'</span>: <span class="org-string">'aKiddoHand'</span>}</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd9c73ec" class="outline-2">
<h2 id="orgd9c73ec">Extra stuff</h2>
</div>
<div id="outline-container-org7bc68ff" class="outline-2">
<h2 id="org7bc68ff">Get information from my blog database</h2>
<div class="outline-text-2" id="text-org7bc68ff">
<div class="org-src-container">
<pre class="src src-sh"><code><span class="org-builtin">cd</span> ~/code/docker/blog</code>
<code>docker-compose up mysql</code>
</pre>
</div>
</div>

<div id="outline-container-orga32346c" class="outline-3">
<h3 id="orga32346c">Figure out what glyphs I want based on my blog headings</h3>
<div class="outline-text-3" id="text-orga32346c">
<div class="org-src-container">
<pre class="src src-python" id="org05564a4"><code><span class="org-keyword">from</span> dotenv <span class="org-keyword">import</span> load_dotenv</code>
<code><span class="org-keyword">from</span> sqlalchemy <span class="org-keyword">import</span> create_engine</code>
<code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-keyword">import</span> pymysql</code>
<code>load_dotenv(dotenv_path=<span class="org-string">"/home/sacha/code/docker/blog/.env"</span>, verbose=<span class="org-constant">True</span>)</code>
<code></code>
<code><span class="org-variable-name">sqlEngine</span>       = create_engine(<span class="org-string">'mysql+pymysql://'</span> + os.getenv(<span class="org-string">'PYTHON_DB'</span>), pool_recycle=3600)</code>
<code><span class="org-variable-name">dbConnection</span>    = sqlEngine.connect()</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org07af58e" class="outline-3">
<h3 id="org07af58e">Make test page with blog headings</h3>
<div class="outline-text-3" id="text-org07af58e">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-keyword">from</span> yattag <span class="org-keyword">import</span> Doc, indent</code>
<code><span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code><span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>):</code>
<code>    doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>, klass=<span class="org-string">"blog-heading"</span>):</code>
<code>    <span class="org-variable-name">result</span> = dbConnection.execute(<span class="org-string">"select id, post_title from wp_posts WHERE post_type='post' AND post_status='publish' AND post_password='' order by id desc"</span>)</code>
<code>    <span class="org-keyword">for</span> row <span class="org-keyword">in</span> result:</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'h2'</span>):</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">"https://sachachua.com/blog/p/%s"</span> % row[<span class="org-string">'id'</span>]):</code>
<code>          text(row[<span class="org-string">'post_title'</span>])</code>
<code>dbConnection.close()</code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'test-blog.html'</span>, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>  f.write(indent(doc.getvalue(), indent_text=<span class="org-constant">True</span>))</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orge0bc639" class="outline-3">
<h3 id="orge0bc639">Check glyphs</h3>
<div class="outline-text-3" id="text-orge0bc639">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span>           = pd.read_sql(<span class="org-string">"select post_title from wp_posts WHERE post_type='post' AND post_status='publish'"</span>, dbConnection);</code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Debugging</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">q = df[~df['post_title'].str.match('^[A-Za-z0-9\? "\'(),\-:\.\*;/@\!\[\]=_&amp;\?\$\+#^{}\~]+$')]</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">print(q)</span></code>
<code><span class="org-keyword">from</span> collections <span class="org-keyword">import</span> Counter</code>
<code><span class="org-variable-name">df</span>[<span class="org-string">'filtered'</span>] = df.post_title.<span class="org-builtin">str</span>.replace(<span class="org-string">'[A-Za-z0-9\? "\'(),\-:\.\*;/@\!\[\]=_&amp;\?\$\+#^{}\~]+'</span>, <span class="org-string">''</span>)</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">print(df['filtered'].apply(list).sum())</span></code>
<code><span class="org-variable-name">res</span> = Counter(df.filtered.<span class="org-builtin">apply</span>(<span class="org-builtin">list</span>).<span class="org-builtin">sum</span>())</code>
<code><span class="org-keyword">return</span> res.most_common()</code>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left"></td>
<td class="org-right">65</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">57</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">39</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">33</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">13</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">8</td>
</tr>

<tr>
<td class="org-left">\x81</td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">%</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">\t</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">&lt;</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">&gt;</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">\xa0</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">\x8d</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org26bc66b" class="outline-3">
<h3 id="org26bc66b">Look up posts with weird glyphs</h3>
<div class="outline-text-3" id="text-org26bc66b">
<div class="org-src-container">
<pre class="src src-python" id="org8878aca"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span>           = pd.read_sql(<span class="org-string">"select id, post_title from wp_posts WHERE post_type='post' AND post_status='publish' AND post_title LIKE %(char)s limit 10;"</span>, dbConnection, params={<span class="org-string">"char"</span>: <span class="org-string">'%'</span> + char + <span class="org-string">'%'</span>});</code>
<code><span class="org-keyword">print</span>(df)</code>
</pre>
</div>

<pre class="example">
<code>      id                                         post_title</code>
<code>0   7059    Wiki organization challenge  thinking out loud</code>
<code>1   7330   Setting up my new tablet PC  apps, config, etc.</code>
<code>2  22038  Work on the business from the outside, not in ...</code>
</pre>
</div>
</div>

<div id="outline-container-org5552eb9" class="outline-3">
<h3 id="org5552eb9">Get frequency of pairs of characters</h3>
<div class="outline-text-3" id="text-org5552eb9">
<div class="org-src-container">
<pre class="src src-python" id="orged0eb26"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span> = pd.read_sql(<span class="org-string">"select post_title from wp_posts WHERE post_type='post' AND post_status='publish'"</span>, dbConnection);</code>
<code><span class="org-keyword">from</span> collections <span class="org-keyword">import</span> Counter</code>
<code><span class="org-variable-name">s</span> = df.post_title.<span class="org-builtin">apply</span>(<span class="org-builtin">list</span>).<span class="org-builtin">sum</span>()</code>
<code><span class="org-variable-name">res</span> = Counter(<span class="org-string">'{}{}'</span>.<span class="org-builtin">format</span>(a, b) <span class="org-keyword">for</span> a, b <span class="org-keyword">in</span> <span class="org-builtin">zip</span>(s, s[1:]))</code>
<code><span class="org-variable-name">common</span> = res.most_common(100)</code>
<code><span class="org-keyword">return</span> <span class="org-string">''</span>.join([x[0] <span class="org-keyword">for</span> x <span class="org-keyword">in</span> common])</code>
</pre>
</div>

<pre class="example">
<code>innge g s  treeron aanesy entit orndthn ee: ted atarr hetont, acstou o fekne rieWe smaalewo 20roea mle w 2itvi e pk rimedietioomchev cly01edlil ve i braisseha Wotdece dcotahih looouticurel laseccssila</code>
</pre>
</div>
</div>

<div id="outline-container-org0e022a8" class="outline-3">
<h3 id="org0e022a8">Copy metrics from my edited font</h3>
<div class="outline-text-3" id="text-org0e022a8">
</div>
<div id="outline-container-org6ccc044" class="outline-4">
<h4 id="org6ccc044">Get the glyph bearings</h4>
<div class="outline-text-4" id="text-org6ccc044">
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-variable-name">f</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">"/home/sacha/code/font/files/SachaHandEdited.sfd"</span>)</code>
<code><span class="org-keyword">return</span> <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> g: [g.glyphname, g.left_side_bearing, g.right_side_bearing], f.glyphs()))</code>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">a</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">39.0</td>
<td class="org-right">38.59677350874102</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-right">38.807172523099524</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">38.853036079593494</td>
<td class="org-right">37.70218462414317</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">23.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">22.0</td>
<td class="org-right">28.0</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">39.0</td>
<td class="org-right">38.839263397187665</td>
</tr>

<tr>
<td class="org-left">h</td>
<td class="org-right">42.44897959183673</td>
<td class="org-right">32.244897959183675</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">29.0</td>
<td class="org-right">37.07269908475212</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">38.7232</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">38.849996883261696</td>
<td class="org-right">24.0</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">38.88120540762966</td>
<td class="org-right">61.872974804436524</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-right">38.41699749411689</td>
<td class="org-right">50.09722712588024</td>
</tr>

<tr>
<td class="org-left">o</td>
<td class="org-right">38.861850745445174</td>
<td class="org-right">38.36155030599474</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">38.72189349112426</td>
<td class="org-right">38.806185204215126</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">38.635016803781454</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">39.183503419072274</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">38.68004732178092</td>
<td class="org-right">38.39916483580083</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">w</td>
<td class="org-right">38.5881853639986</td>
<td class="org-right">38.21114561800016</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">-25.0</td>
<td class="org-right">36.43496760281849</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">39.38789400666183</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">39.0</td>
<td class="org-right">37.98737993209943</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">39.16280761404536</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">39.0</td>
<td class="org-right">39.51459156482764</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">39.0</td>
<td class="org-right">38.966489765633526</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">38.96694214876033</td>
<td class="org-right">39.25</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">39.0</td>
<td class="org-right">38.464468801750854</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">38.59617220614814</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">38.745166004060955</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">38.73987423309397</td>
<td class="org-right">38.115654115187624</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">38.98891966759004</td>
<td class="org-right">38.81665596263048</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">39.107438016528924</td>
<td class="org-right">38.65155124501666</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">39.08006855188009</td>
<td class="org-right">38.01570072979803</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">39.0</td>
<td class="org-right">37.81373873377618</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">38.75</td>
<td class="org-right">37.93218925782895</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">38.64979175001243</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">39.0</td>
<td class="org-right">38.97697312351511</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">39.2011995420152</td>
<td class="org-right">38.493344292403606</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">38.920094771357476</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">zero</td>
<td class="org-right">39.02557980683008</td>
<td class="org-right">38.934353847767</td>
</tr>

<tr>
<td class="org-left">one</td>
<td class="org-right">39.0</td>
<td class="org-right">37.86668813070091</td>
</tr>

<tr>
<td class="org-left">two</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">three</td>
<td class="org-right">39.0</td>
<td class="org-right">38.30090715487154</td>
</tr>

<tr>
<td class="org-left">four</td>
<td class="org-right">38.61480785064145</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">five</td>
<td class="org-right">39.0</td>
<td class="org-right">38.759568693514495</td>
</tr>

<tr>
<td class="org-left">six</td>
<td class="org-right">39.2019689704218</td>
<td class="org-right">38.50115350183796</td>
</tr>

<tr>
<td class="org-left">seven</td>
<td class="org-right">39.0</td>
<td class="org-right">39.45880036173975</td>
</tr>

<tr>
<td class="org-left">eight</td>
<td class="org-right">39.30732386691426</td>
<td class="org-right">38.81767097798502</td>
</tr>

<tr>
<td class="org-left">nine</td>
<td class="org-right">39.04800948718441</td>
<td class="org-right">37.956930045381114</td>
</tr>

<tr>
<td class="org-left">question</td>
<td class="org-right">39.35264826217293</td>
<td class="org-right">38.26531143335521</td>
</tr>

<tr>
<td class="org-left">colon</td>
<td class="org-right">38.5</td>
<td class="org-right">38.70624687253556</td>
</tr>

<tr>
<td class="org-left">semicolon</td>
<td class="org-right">39.0</td>
<td class="org-right">39.27324858612964</td>
</tr>

<tr>
<td class="org-left">hyphen</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">equal</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">exclam</td>
<td class="org-right">38.783020821373505</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">quotesingle</td>
<td class="org-right">39.0</td>
<td class="org-right">-1.7598547334076642</td>
</tr>

<tr>
<td class="org-left">at</td>
<td class="org-right">39.229928128979466</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">slash</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">backslash</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">quotedbl</td>
<td class="org-right">38.86626375007093</td>
<td class="org-right">37.95034254612182</td>
</tr>

<tr>
<td class="org-left">asciitilde</td>
<td class="org-right">38.68727157672891</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">underscore</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">numbersign</td>
<td class="org-right">39.0</td>
<td class="org-right">38.740379553133494</td>
</tr>

<tr>
<td class="org-left">dollar</td>
<td class="org-right">39.0</td>
<td class="org-right">38.734693877551024</td>
</tr>

<tr>
<td class="org-left">percent</td>
<td class="org-right">39.200007286174</td>
<td class="org-right">38.10774096287298</td>
</tr>

<tr>
<td class="org-left">ampersand</td>
<td class="org-right">38.96710425694502</td>
<td class="org-right">38.68428307198798</td>
</tr>

<tr>
<td class="org-left">parenleft</td>
<td class="org-right">39.286819706621706</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">parenright</td>
<td class="org-right">39.0</td>
<td class="org-right">39.05824335912013</td>
</tr>

<tr>
<td class="org-left">asterisk</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">plus</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">comma</td>
<td class="org-right">38.96546178699183</td>
<td class="org-right">38.55278640450004</td>
</tr>

<tr>
<td class="org-left">period</td>
<td class="org-right">38.83875395420776</td>
<td class="org-right">37.87092262792087</td>
</tr>

<tr>
<td class="org-left">less</td>
<td class="org-right">38.97840529870042</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">greater</td>
<td class="org-right">39.0</td>
<td class="org-right">37.69246464578106</td>
</tr>

<tr>
<td class="org-left">bracketleft</td>
<td class="org-right">38.788380868145794</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">bracketright</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">asciicircum</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">grave</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">braceleft</td>
<td class="org-right">38.7827057593821</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">bar</td>
<td class="org-right">39.0</td>
<td class="org-right">38.406427221172024</td>
</tr>

<tr>
<td class="org-left">braceright</td>
<td class="org-right">39.0</td>
<td class="org-right">38.206693605650514</td>
</tr>

<tr>
<td class="org-left">space</td>
<td class="org-right">0.0</td>
<td class="org-right">243.0</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org889b4d8" class="outline-4">
<h4 id="org889b4d8">Get the kerning information</h4>
<div class="outline-text-4" id="text-org889b4d8">
<div class="org-src-container">
<pre class="src src-python" id="org21085f2"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">show_kerning_classes</span>(f):</code>
<code>  <span class="org-variable-name">kern_name</span> = f.gpos_lookups[0]</code>
<code>  <span class="org-variable-name">lookup_info</span> = f.getLookupInfo(kern_name)</code>
<code>  <span class="org-variable-name">sub</span> = f.getLookupSubtables(kern_name)</code>
<code>  <span class="org-keyword">for</span> subtable <span class="org-keyword">in</span> sub:</code>
<code>    (classes_left, classes_right, array) = f.getKerningClass(subtable)</code>
<code>    <span class="org-variable-name">classes_left</span> = <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> x: <span class="org-string">'None'</span> <span class="org-keyword">if</span> x <span class="org-keyword">is</span> <span class="org-constant">None</span> <span class="org-keyword">else</span> <span class="org-string">','</span>.join(x), classes_left))</code>
<code>    <span class="org-variable-name">classes_right</span> = <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> x: <span class="org-string">'None'</span> <span class="org-keyword">if</span> x <span class="org-keyword">is</span> <span class="org-constant">None</span> <span class="org-keyword">else</span> <span class="org-string">','</span>.join(x), classes_right))</code>
<code>    <span class="org-variable-name">kerning</span> = np.array(array).reshape(<span class="org-builtin">len</span>(classes_left), <span class="org-builtin">len</span>(classes_right))</code>
<code>    <span class="org-variable-name">df</span> = pd.DataFrame(data=kerning, index=classes_left, columns=classes_right)</code>
<code>    out(df)</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> fontforge</code>
<code>&lt;&lt;def_show_kerning_classes&gt;&gt;</code>
<code>show_kerning_classes(fontforge.<span class="org-builtin">open</span>(font))</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-orgd38f038" class="outline-3">
<h3 id="orgd38f038">Copy it to my website</h3>
<div class="outline-text-3" id="text-orgd38f038">
<div class="org-src-container">
<pre class="src src-sh"><code>scp sachacHand-Regular.woff web:~/sacha-v3/</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org97ea1a4" class="outline-2">
<h2 id="org97ea1a4">Other resources</h2>
<div class="outline-text-2" id="text-org97ea1a4">
<p>
<a href="http://ctan.localhost.net.ar/fonts/amiri/tools/build.py">http://ctan.localhost.net.ar/fonts/amiri/tools/build.py</a>
</p>

<style type="text/css">
       @font-face { font-family: 'sachacHand'; src: url('files/sachacHand.woff'); }
       h1, h2 { font-family: 'sachacHand', sans-serif; font-weight: bold }
       code { font-size: 0.8rem; border: none }
</style>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:sacha@sachachua.com">E-mail me</a>
</div>

<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
</div>
</body>
</html>
