<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-06-19 Fri 00:41 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Sacha Chua" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css"
href="http://sachachua.com/blog/wp-content/themes/sacha-v3/foundation/css/foundation.min.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/org-export.css"></link>
<link rel="stylesheet" type="text/css" href="http://sachachua.com/blog/wp-content/themes/sacha-v3/style.css"></link>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="preamble" class="status">
<a name="top" id="top"></a>
</div>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org0603a3a">Summary</a></li>
<li><a href="#orgd6ad45a">License</a></li>
<li><a href="#orga3b5e3b">Blog post</a></li>
<li><a href="#org54699ad">Things I needed to install</a>
<ul>
<li><a href="#orgb73ca5f">Errors fixed along the way</a></li>
</ul>
</li>
<li><a href="#org9e3aca6">General font code</a>
<ul>
<li><a href="#org3793a89">Parameters and common functions</a></li>
<li><a href="#org3548ede">Generate guidelines</a></li>
<li><a href="#org9c91af5">Cut into glyphs</a></li>
<li><a href="#org6d154b7">Import SVG outlines into font</a></li>
<li><a href="#orgdcfabfa">Adjust bearings</a></li>
<li><a href="#org1738e5e">Kern the font</a></li>
<li><a href="#org352b731">Hand-tweak the glyphs</a></li>
</ul>
</li>
<li><a href="#org726a11d">Generate fonts</a>
<ul>
<li><a href="#orgda27c7c">Generate sachacHand Light</a></li>
<li><a href="#orgf6ab4bc">Generate sachacHand Regular</a></li>
<li><a href="#org1d4c18b">Generate sachacHand Bold</a></li>
</ul>
</li>
<li><a href="#org0a25f47">Variants</a>
<ul>
<li><a href="#org4a74eee">Import the glyphs for variant1 and variant2</a></li>
<li><a href="#org98dd64b">Okay, how do I space and kern the variants more efficiently?</a></li>
</ul>
</li>
<li><a href="#org842eb3a">Test the fonts</a></li>
<li><a href="#orgf144230">Ideas</a>
<ul>
<li><a href="#orgd23f781"><span class="done DONE">DONE</span> Copy glyphs from hand-edited font</a></li>
<li><a href="#org0fc5067"><span class="todo TODO">TODO</span> Alternate glyphs</a></li>
<li><a href="#org1700929"><span class="todo TODO">TODO</span> Ligatures</a></li>
<li><a href="#org498ae82"><span class="todo TODO">TODO</span> Accents</a></li>
<li><a href="#org1b0e294">Generating a zero-width version?</a></li>
<li><a href="#org6e90cc6"><span class="todo TODO">TODO</span> Make a font for A-</a></li>
</ul>
</li>
<li><a href="#org3dee60b">Extra stuff</a></li>
<li><a href="#orgf8f5f3c">Get information from my blog database</a>
<ul>
<li><a href="#orgdeb02c8">Figure out what glyphs I want based on my blog headings</a></li>
<li><a href="#org99c4320">Make test page with blog headings</a></li>
<li><a href="#orgb2da442">Check glyphs</a></li>
<li><a href="#org828e444">Look up posts with weird glyphs</a></li>
<li><a href="#org1776af3">Get frequency of pairs of characters</a></li>
<li><a href="#orgadab5a0">Copy metrics from my edited font</a></li>
<li><a href="#org4fe0a4e">Copy it to my website</a></li>
</ul>
</li>
<li><a href="#org0e74ef5">Other resources</a></li>
</ul>
</div>
</div>

<div id="outline-container-org0603a3a" class="outline-2">
<h2 id="org0603a3a">Summary</h2>
<div class="outline-text-2" id="text-org0603a3a">
<p>
I wanted to make my own handwriting font. I also wanted to be able to
generate fonts quickly from the handwriting samples I can draw on my
ta   [ State ]: EDITED, shown value does not take effect until you set or save it.
</p>


<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-left"><a href="https://pages.sachachua.com/sachac-hand/README.html">https://pages.sachachua.com/sachac-hand/README.html</a></td>
<td class="org-left">This README as HTML</td>
</tr>

<tr>
<td class="org-left"><a href="https://github.com/sachac/sachac-hand">https://github.com/sachac/sachac-hand</a></td>
<td class="org-left">Github repo</td>
</tr>

<tr>
<td class="org-left"><a href="./files/test.html">./files/test.html</a></td>
<td class="org-left">Test pages</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orgd6ad45a" class="outline-2">
<h2 id="orgd6ad45a">License</h2>
</div>

<div id="outline-container-orga3b5e3b" class="outline-2">
<h2 id="orga3b5e3b">Blog post</h2>
<div class="outline-text-2" id="text-orga3b5e3b">
<p>
I wanted to make a font based on my handwriting using only free
software. It turns out that FontForge can be scripted with Python. I
know just a little about Python and even less about typography, but I
managed to hack together something that worked for me. If you're
reading this on my blog at <a href="https://sachachua.com/blog/">https://sachachua.com/blog/</a> , you'll
probably see the new font being used on the blog post titles. Whee!
</p>

<p>
My rough notes are at
<a href="https://github.com/sachac/sachac-hand/">https://github.com/sachac/sachac-hand/</a> . I wanted
to write it as a literate program using Org Babel blocks. It's not
really fully reproducible yet, but it might be a handy starting point.
The basic workflow was:
</p>

<ol class="org-ol">
<li>Generate a template using other fonts as the base.</li>
<li>Import the template into Medibang Paint on my phone and draw
letters on a different layer. (I almost forgot the letter <code>q</code>, so I
had to add it at the last minute.)</li>
<li>Export just the layer with my writing.</li>
<li>Cut the image into separate glyphs using Python and autotrace each one.</li>
<li>Import each glyph into FontForge as an SVG and a PNG.</li>
<li>Set the left side and right side bearing, overriding as needed based on a table.</li>
<li>Figure out kerning classes.</li>
<li>Hand-tweak the contours and kerning.</li>
<li>Use <code>sfnt2woff</code> to export the web font file for use on my blog, and modify the stylesheet to include it.</li>
</ol>

<p>
I really liked being able to specify kerning classes through an Org
Mode table like this:
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t,x,v,y,z</td>
<td class="org-right">h,b,l,i,k</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-102</td>
<td class="org-right">-61</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-right">-41</td>
<td class="org-right">-25</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">0</td>
<td class="org-right">-82</td>
<td class="org-right">-41</td>
<td class="org-right">-25</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">29</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">0</td>
<td class="org-right">-50</td>
<td class="org-right">-81</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">-48</td>
<td class="org-right">-120</td>
<td class="org-right">-79</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">0</td>
<td class="org-right">-41</td>
<td class="org-right">-50</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">-52</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-35</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
<td class="org-right">-80</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">43</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-right">0</td>
<td class="org-right">-23</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">-20</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-120</td>
<td class="org-right">17</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">0</td>
<td class="org-right">-190</td>
<td class="org-right">-120</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-130</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-188</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">0</td>
<td class="org-right">-100</td>
<td class="org-right">-90</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-right">-100</td>
<td class="org-right">-40</td>
<td class="org-right">-166</td>
</tr>

<tr>
<td class="org-left">two</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">-53</td>
</tr>
</tbody>
</table>

<p>
I had a hard time defining classes using the FontForge interface
because I occasionally ended up clearing my glyph selection, so it was
great being able to just edit my columns and rows. 
</p>

<p>
Clearly my kerning is still very rough&#x2013;no actual values for j, for
example&#x2013;but it's a start. Also, I can probably figure out how to
combine this with character pair kerning and have two tables for
easier tweaking.
</p>

<p>
A- insisted on tracing my handwriting template a few times, so I might
actually be able to go through the same process to convert her
handwriting into a font. Whee!
</p>
</div>
</div>

<div id="outline-container-org54699ad" class="outline-2">
<h2 id="org54699ad">Things I needed to install</h2>
<div class="outline-text-2" id="text-org54699ad">
<p>
<code>sudo apt-get install fontforge python3-fontforge python3-numpy python3-sqlalchemy python3-pandas python3-pymysql python3-nltk woff-tools woff2 python3-yattag python3-livereload</code>
</p>

<p>
I compiled autotrace based on my fork at <a href="https://github.com/sachac/autotrace">https://github.com/sachac/autotrace</a> so that it uses Graphicsmagick instead of Imagemagick.
</p>

<p>
I also needed <code>(setenv "LD_LIBRARY_PATH" "/usr/local/lib")</code>. There are probably a bunch of other prerequisites I've forgotten to write down.
</p>
</div>

<div id="outline-container-orgb73ca5f" class="outline-3">
<h3 id="orgb73ca5f">Errors fixed along the way</h3>
<div class="outline-text-3" id="text-orgb73ca5f">
<ul class="org-ul">
<li><code>FileNotFoundError: [Errno 2] No such file or directory: '/home/sacha/.local/lib/python3.8/site-packages/aglfn/agl-aglfn/aglfn.txt'</code>
<ul class="org-ul">
<li>symlink or copy the one from /usr/share/aglfn to the right place</li>
</ul></li>
</ul>
</div>
</div>
</div>

<div id="outline-container-org9e3aca6" class="outline-2">
<h2 id="org9e3aca6">General font code</h2>
<div class="outline-text-2" id="text-org9e3aca6">
</div>
<div id="outline-container-org3793a89" class="outline-3">
<h3 id="org3793a89">Parameters and common functions</h3>
<div class="outline-text-3" id="text-org3793a89">
<div class="org-src-container">
<pre class="src src-python" id="org8e4bb43"><code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> subprocess</code>
<code></code>
<code><span class="org-variable-name">params</span> = {<span class="org-string">'template'</span>: <span class="org-string">'template-256.png'</span>,</code>
<code>  <span class="org-string">'sample_file'</span>: <span class="org-string">'sample.png'</span>,</code>
<code>  <span class="org-string">'name_list'</span>: <span class="org-string">'aglfn.txt'</span>,</code>
<code>  <span class="org-string">'new_font_file'</span>: <span class="org-string">'sachacHand.sfd'</span>,</code>
<code>  <span class="org-string">'new_otf'</span>: <span class="org-string">'sachacHand.otf'</span>,</code>
<code>  <span class="org-string">'new_font_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'new_family_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'new_full_name'</span>: <span class="org-string">'sachacHand'</span>,</code>
<code>  <span class="org-string">'text_color'</span>: <span class="org-string">'lightgray'</span>,</code>
<code>  <span class="org-string">'glyph_dir'</span>: <span class="org-string">'glyphs/'</span>,</code>
<code>  <span class="org-string">'letters'</span>: <span class="org-string">'HOnodpagscebhklftijmnruwvxyzCGABRDLEFIJKMNPQSTUVWXYZ0123456789?:;-&#8211;&#8212;=!\'&#8217;"&#8220;&#8221;@/\\~_#$%&amp;()*+,.&lt;&gt;[]^`{|}q'</span>,</code>
<code>  <span class="org-string">'direction'</span>: <span class="org-string">'vertical'</span>,</code>
<code>  <span class="org-string">'rows'</span>: 10, </code>
<code>  <span class="org-string">'columns'</span>: 10, </code>
<code>  <span class="org-string">'x_height'</span>: 368,</code>
<code>  <span class="org-string">'em'</span>: 1000, </code>
<code>  <span class="org-string">'em_width'</span>: 1000, </code>
<code>  <span class="org-string">'row_padding'</span>: 0,</code>
<code>  <span class="org-string">'ascent'</span>: 800, </code>
<code>  <span class="org-string">'descent'</span>: 200, </code>
<code>  <span class="org-string">'height'</span>: 500, </code>
<code>  <span class="org-string">'width'</span>: 500, </code>
<code>  <span class="org-string">'caps'</span>: 650,</code>
<code>  <span class="org-string">'line_width'</span>: 3,</code>
<code>  <span class="org-string">'text'</span>: <span class="org-string">"Python+FontForge+Org: I made a font based on my handwriting!"</span></code>
<code>  }</code>
<code>fontforge.loadNamelist(params[<span class="org-string">'name_list'</span>])</code>
<code><span class="org-variable-name">params</span>[<span class="org-string">'font_size'</span>] = <span class="org-builtin">int</span>(params[<span class="org-string">'em'</span>])</code>
<code><span class="org-variable-name">params</span>[<span class="org-string">'baseline'</span>] = params[<span class="org-string">'em'</span>] - params[<span class="org-string">'descent'</span>]</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">transpose_letters</span>(letters, width, height):</code>
<code>  <span class="org-keyword">return</span> <span class="org-string">''</span>.join(np.reshape(<span class="org-builtin">list</span>(letters.ljust(width * height)), (height, width)).transpose().reshape(-1))</code>
<code></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Return glyph name of s, or s if none (possibly variant)</span></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_name</span>(s):</code>
<code>  <span class="org-keyword">return</span> aglfn.name(s) <span class="org-keyword">or</span> s</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">get_glyph</span>(font, g):</code>
<code>  <span class="org-variable-name">pos</span> = font.findEncodingSlot(g)</code>
<code>  <span class="org-keyword">if</span> pos == -1:</code>
<code>    <span class="org-keyword">return</span> font.createChar(pos, g)</code>
<code>  <span class="org-keyword">else</span>:</code>
<code>    <span class="org-keyword">return</span> font[pos]</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_matrix</span>(font=<span class="org-constant">None</span>, matrix=<span class="org-constant">None</span>, letters=<span class="org-constant">None</span>, rows=0, columns=0, direction=<span class="org-string">'horizontal'</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> matrix:</code>
<code>    <span class="org-keyword">if</span> <span class="org-builtin">isinstance</span>(matrix[0], <span class="org-builtin">str</span>):</code>
<code>      <span class="org-comment-delimiter"># </span><span class="org-comment">Split each</span></code>
<code>      <span class="org-variable-name">matrix</span> = [x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> matrix]</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      <span class="org-variable-name">matrix</span> = matrix[:]  <span class="org-comment-delimiter"># </span><span class="org-comment">copy the list</span></code>
<code>  <span class="org-keyword">else</span>:</code>
<code>    <span class="org-variable-name">matrix</span> = np.reshape(<span class="org-builtin">list</span>(letters.ljust(rows * columns))[0:rows * columns], (rows, columns))</code>
<code>    <span class="org-keyword">if</span> direction == <span class="org-string">'vertical'</span>:</code>
<code>      <span class="org-variable-name">matrix</span> = matrix.transpose()</code>
<code>  <span class="org-variable-name">matrix</span> = [[glyph_name(x) <span class="org-keyword">if</span> x != <span class="org-string">'None'</span> <span class="org-keyword">else</span> <span class="org-constant">None</span> <span class="org-keyword">for</span> x <span class="org-keyword">in</span> row] <span class="org-keyword">for</span> row <span class="org-keyword">in</span> matrix]</code>
<code>  <span class="org-keyword">if</span> font:</code>
<code>    <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(matrix):</code>
<code>      <span class="org-keyword">for</span> c, col <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>        <span class="org-keyword">if</span> col <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>        matrix[r][c] = get_glyph(font, col)</code>
<code>  <span class="org-keyword">return</span> matrix</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_filename_base</span>(glyph_name):</code>
<code>  <span class="org-keyword">try</span>:</code>
<code>    <span class="org-keyword">return</span> <span class="org-string">'uni%s-%s'</span> % (<span class="org-builtin">hex</span>(<span class="org-builtin">ord</span>(aglfn.to_glyph(glyph_name))).replace(<span class="org-string">'0x'</span>, <span class="org-string">''</span>).zfill(4), glyph_name)</code>
<code>  <span class="org-keyword">except</span>:</code>
<code>    <span class="org-keyword">return</span> glyph_name</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">load_font</span>(params):</code>
<code>  <span class="org-keyword">if</span> <span class="org-builtin">type</span>(params) == <span class="org-builtin">str</span>:</code>
<code>    <span class="org-keyword">return</span> fontforge.<span class="org-builtin">open</span>(params)</code>
<code>  <span class="org-keyword">else</span>:</code>
<code>    <span class="org-keyword">return</span> fontforge.<span class="org-builtin">open</span>(params[<span class="org-string">'new_font_file'</span>])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">save_font</span>(font, font_filename=<span class="org-constant">None</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> font_filename <span class="org-keyword">is</span> <span class="org-constant">None</span>:</code>
<code>    <span class="org-variable-name">font_filename</span> = font.fontname + <span class="org-string">'.sfd'</span></code>
<code>  font.save(font_filename)</code>
<code>  font.generate(font_filename.replace(<span class="org-string">'.sfd'</span>, <span class="org-string">'.otf'</span>))</code>
<code>  subprocess.call([<span class="org-string">'sfnt2woff'</span>, font_filename.replace(<span class="org-string">'.sfd'</span>, <span class="org-string">'.otf'</span>)])</code>
<code></code>
<code><span class="org-keyword">import</span> orgbabelhelper <span class="org-keyword">as</span> ob</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">out</span>(df, **kwargs):</code>
<code>  <span class="org-keyword">print</span>(ob.dataframe_to_orgtable(df, **kwargs))</code>
<code></code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org3548ede" class="outline-3">
<h3 id="org3548ede">Generate guidelines</h3>
<div class="outline-text-3" id="text-org3548ede">
</div>
<div id="outline-container-org687835d" class="outline-4">
<h4 id="org687835d">Code to make the template</h4>
<div class="outline-text-4" id="text-org687835d">
<div class="org-src-container">
<pre class="src src-python" id="org5cd62a8"><code><span class="org-keyword">from</span> PIL <span class="org-keyword">import</span> Image, ImageFont, ImageDraw</code>
<code></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">LETTERS = 'abcd'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Baseline is red</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Top of glyph is light blue</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Bottom of glyph is blue</span></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">draw_letter</span>(column, row, letter, params):</code>
<code>  <span class="org-variable-name">draw</span> = params[<span class="org-string">'draw'</span>]</code>
<code>  <span class="org-variable-name">sized_padding</span> = <span class="org-builtin">int</span>(params[<span class="org-string">'row_padding'</span>] * params[<span class="org-string">'em'</span>] / params[<span class="org-string">'height'</span>])</code>
<code>  <span class="org-variable-name">origin</span> = (column * params[<span class="org-string">'em_width'</span>], row * (params[<span class="org-string">'em'</span>] + sized_padding))</code>
<code>  draw.line((origin[0], origin[1], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1]), fill=<span class="org-string">'lightblue'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1], origin[0], origin[1] + params[<span class="org-string">'em'</span>]), fill=<span class="org-string">'lightgray'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'x_height'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'x_height'</span>]), fill=<span class="org-string">'lightgray'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>]), fill=<span class="org-string">'red'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'caps'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'ascent'</span>] - params[<span class="org-string">'caps'</span>]), fill=<span class="org-string">'lightgreen'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  draw.line((origin[0], origin[1] + params[<span class="org-string">'em'</span>], origin[0] + params[<span class="org-string">'em_width'</span>], origin[1] + params[<span class="org-string">'em'</span>]), fill=<span class="org-string">'blue'</span>, width=params[<span class="org-string">'line_width'</span>])</code>
<code>  <span class="org-variable-name">width</span>, <span class="org-variable-name">height</span> = draw.textsize(letter, font=params[<span class="org-string">'font'</span>])</code>
<code>  draw.text((origin[0] + (params[<span class="org-string">'em_width'</span>] - width) / 2, origin[1]), letter, font=params[<span class="org-string">'font'</span>], fill=params[<span class="org-string">'text_color'</span>])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">make_template</span>(params):</code>
<code>  <span class="org-variable-name">sized_padding</span> = <span class="org-builtin">int</span>(params[<span class="org-string">'row_padding'</span>] * params[<span class="org-string">'em'</span>] / params[<span class="org-string">'height'</span>])</code>
<code>  <span class="org-variable-name">img</span> = Image.new(<span class="org-string">'RGB'</span>, (params[<span class="org-string">'columns'</span>] * params[<span class="org-string">'em_width'</span>], params[<span class="org-string">'rows'</span>] * (params[<span class="org-string">'em'</span>] + sized_padding)), <span class="org-string">'white'</span>)</code>
<code>  <span class="org-variable-name">params</span>[<span class="org-string">'draw'</span>] = ImageDraw.Draw(img)</code>
<code>  <span class="org-variable-name">params</span>[<span class="org-string">'font'</span>] = ImageFont.truetype(params[<span class="org-string">'font_name'</span>], params[<span class="org-string">'font_size'</span>])</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(**params)</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(matrix):</code>
<code>    <span class="org-keyword">for</span> c, ch <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>      draw_letter(c, r, ch, params)</code>
<code>  img.thumbnail((params[<span class="org-string">'columns'</span>] * params[<span class="org-string">'width'</span>], params[<span class="org-string">'rows'</span>] * (params[<span class="org-string">'height'</span>] + params[<span class="org-string">'row_padding'</span>])))</code>
<code>  img.save(params[<span class="org-string">'template'</span>])</code>
<code>  <span class="org-keyword">return</span> params[<span class="org-string">'template'</span>]</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgc8dd90f" class="outline-4">
<h4 id="orgc8dd90f">Actually make the templates</h4>
<div class="outline-text-4" id="text-orgc8dd90f">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code>&lt;&lt;def_make_template&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">make_template({**params, 'font_name': '/home/sacha/.fonts/Romochka.otf', 'template': 'template-romochka.png', 'row_padding': 15}) </span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">make_template({**params, 'font_name': '/home/sacha/.fonts/Breip.ttf', 'template': 'template-breip.png', 'row_padding': 15}) </span></code>
<code>make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'/home/sacha/.fonts/KGPrimaryDots.ttf'</span>, </code>
<code>  <span class="org-string">'letters'</span>: <span class="org-string">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ01234567890?:;-&#8211;&#8212;=!\'&#8217;"&#8220;&#8221;@/\\~_#$%&amp;()*+,.&lt;&gt;[]^`{|}'</span>, <span class="org-string">'direction'</span>: <span class="org-string">'horizontal'</span>, <span class="org-string">'text_color'</span>: <span class="org-string">'black'</span>,</code>
<code>  <span class="org-string">'template'</span>: <span class="org-string">'template-kg.png'</span>, <span class="org-string">'ascent'</span>: 800, <span class="org-string">'descent'</span>: 200, <span class="org-string">'caps'</span>: 600, <span class="org-string">'x_height'</span>: 340, <span class="org-string">'row_padding'</span>: 50}) </code>
<code>make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'sachacHand.otf'</span>, <span class="org-string">'template'</span>: <span class="org-string">'template-sachacHand.png'</span>, <span class="org-string">'row_padding'</span>: 50})</code>
<code><span class="org-keyword">return</span> make_template({**params, <span class="org-string">'font_name'</span>: <span class="org-string">'sachacHand.otf'</span>, </code>
<code><span class="org-string">'template'</span>: <span class="org-string">'template-sample.png'</span>, <span class="org-string">'direction'</span>: <span class="org-string">'horizontal'</span>, <span class="org-string">'rows'</span>: 4, <span class="org-string">'columns'</span>: 4, <span class="org-string">'height'</span>: 100, <span class="org-string">'width'</span>: 100, <span class="org-string">'row_padding'</span>: 100 }) </code>
</pre>
</div>


<div class="figure">
<p><img src="files/template-sample.png" alt="template-sample.png" />
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org9c91af5" class="outline-3">
<h3 id="org9c91af5">Cut into glyphs</h3>
<div class="outline-text-3" id="text-org9c91af5">
<div class="org-src-container">
<pre class="src src-python" id="org85f9070"><code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> libxml2</code>
<code><span class="org-keyword">from</span> PIL <span class="org-keyword">import</span> Image, ImageOps</code>
<code><span class="org-keyword">import</span> subprocess</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">cut_glyphs</span>(sample_file=<span class="org-string">""</span>, letters=<span class="org-string">""</span>, direction=<span class="org-string">""</span>, columns=0, rows=0, height=0, width=0, row_padding=0, glyph_dir=<span class="org-string">'glyphs'</span>, matrix=<span class="org-constant">None</span>, force=<span class="org-constant">False</span>, **kwargs):</code>
<code>  <span class="org-variable-name">im</span> = Image.<span class="org-builtin">open</span>(sample_file).convert(<span class="org-string">'1'</span>)</code>
<code>  <span class="org-keyword">if</span> <span class="org-keyword">not</span> os.path.exists(glyph_dir):</code>
<code>    os.makedirs(glyph_dir)</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(matrix=matrix, letters=letters, direction=direction, columns=columns, rows=rows)</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(matrix):</code>
<code>    <span class="org-variable-name">top</span> = r * (height + row_padding)</code>
<code>    <span class="org-variable-name">bottom</span> = top + height</code>
<code>    <span class="org-keyword">for</span> c, ch <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>      <span class="org-keyword">if</span> ch <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>      <span class="org-variable-name">filename</span> = os.path.join(glyph_dir, glyph_filename_base(ch) + <span class="org-string">'.pbm'</span>)</code>
<code>      <span class="org-keyword">if</span> os.path.exists(filename) <span class="org-keyword">and</span> <span class="org-keyword">not</span> force: <span class="org-keyword">continue</span></code>
<code>      <span class="org-variable-name">left</span> = c * width</code>
<code>      <span class="org-variable-name">right</span> = left + width</code>
<code>      <span class="org-variable-name">small</span> = im.crop((left, top, right, bottom))</code>
<code>      small.save(filename)</code>
<code>      <span class="org-variable-name">svg</span> = filename.replace(<span class="org-string">'.pbm'</span>, <span class="org-string">'.svg'</span>)</code>
<code>      <span class="org-variable-name">png</span> = filename.replace(<span class="org-string">'.pbm'</span>, <span class="org-string">'.png'</span>)</code>
<code>      small.save(png)</code>
<code>      subprocess.call([<span class="org-string">'autotrace'</span>, <span class="org-string">'-output-file'</span>, svg, filename])</code>
<code>      <span class="org-variable-name">doc</span> = libxml2.parseFile(svg)</code>
<code>      <span class="org-variable-name">root</span> = doc.children</code>
<code>      <span class="org-variable-name">child</span> = root.children</code>
<code>      child.<span class="org-builtin">next</span>.unlinkNode()</code>
<code>      doc.saveFile(svg)</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org6d154b7" class="outline-3">
<h3 id="org6d154b7">Import SVG outlines into font</h3>
<div class="outline-text-3" id="text-org6d154b7">
<div class="org-src-container">
<pre class="src src-python" id="org9766a16"><code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">set_up_font_info</span>(font, new_family_name=<span class="org-string">""</span>, new_font_name=<span class="org-string">""</span>, new_full_name=<span class="org-string">""</span>, em=1000, descent=200, ascent=800, **kwargs):</code>
<code>  <span class="org-variable-name">font.encoding</span> = <span class="org-string">'UnicodeFull'</span></code>
<code>  <span class="org-variable-name">font.fontname</span> = new_font_name</code>
<code>  <span class="org-variable-name">font.familyname</span> = new_family_name</code>
<code>  <span class="org-variable-name">font.fullname</span> = new_full_name</code>
<code>  <span class="org-variable-name">font.em</span> = em</code>
<code>  <span class="org-variable-name">font.descent</span> = descent</code>
<code>  <span class="org-variable-name">font.ascent</span> = ascent</code>
<code>  <span class="org-keyword">return</span> font</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">import_glyphs</span>(font, glyph_dir=<span class="org-string">'glyphs'</span>, letters=<span class="org-constant">None</span>, columns=<span class="org-constant">None</span>, rows=<span class="org-constant">None</span>, direction=<span class="org-constant">None</span>, matrix=<span class="org-constant">None</span>, height=0, **kwargs):</code>
<code>  <span class="org-variable-name">old_em</span> = font.em</code>
<code>  <span class="org-variable-name">font.em</span> = height</code>
<code>  <span class="org-variable-name">matrix</span> = glyph_matrix(font=font, matrix=matrix, letters=letters, columns=columns, rows=rows, direction=direction)</code>
<code>  <span class="org-keyword">for</span> row <span class="org-keyword">in</span> matrix:</code>
<code>    <span class="org-keyword">for</span> g <span class="org-keyword">in</span> row:</code>
<code>      <span class="org-keyword">if</span> g <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>      <span class="org-keyword">try</span>:</code>
<code>        <span class="org-variable-name">base</span> = glyph_filename_base(g.glyphname)</code>
<code>        <span class="org-variable-name">svg_filename</span> = os.path.join(glyph_dir, base + <span class="org-string">'.svg'</span>)</code>
<code>        <span class="org-variable-name">png_filename</span> = os.path.join(glyph_dir, base + <span class="org-string">'.png'</span>)</code>
<code>        g.clear()</code>
<code>        g.importOutlines(png_filename)</code>
<code>        g.importOutlines(svg_filename)</code>
<code>      <span class="org-keyword">except</span> <span class="org-type">Exception</span> <span class="org-keyword">as</span> e:</code>
<code>        <span class="org-keyword">print</span>(<span class="org-string">"Error with "</span>, g, e)</code>
<code>  <span class="org-variable-name">font.em</span> = old_em</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgdcfabfa" class="outline-3">
<h3 id="orgdcfabfa">Adjust bearings</h3>
<div class="outline-text-3" id="text-orgdcfabfa">
<div class="org-src-container">
<pre class="src src-python" id="org78e85b6"><code><span class="org-keyword">import</span> re</code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Return glyph name without .suffix</span></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_base_name</span>(x):</code>
<code>  <span class="org-variable-name">m</span> = re.match(r<span class="org-string">"([^.]+)\..+"</span>, x)</code>
<code>  <span class="org-keyword">return</span> m.group(1) <span class="org-keyword">if</span> m <span class="org-keyword">else</span> x</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">glyph_suffix</span>(x):</code>
<code>  <span class="org-variable-name">m</span> = re.match(r<span class="org-string">"([^.]+)\.(.+)"</span>, x)</code>
<code>  <span class="org-keyword">return</span> m.group(2) <span class="org-keyword">if</span> m <span class="org-keyword">else</span> <span class="org-string">''</span></code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">set_bearings</span>(font, bearings, **kwargs):</code>
<code>  <span class="org-variable-name">bearing_dict</span> = {}</code>
<code>  <span class="org-keyword">for</span> row <span class="org-keyword">in</span> bearings[1:]:</code>
<code>    bearing_dict[row[0]] = row</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    <span class="org-variable-name">key</span> = font[g].glyphname</code>
<code>    <span class="org-variable-name">m</span> = glyph_base_name(key)</code>
<code>    <span class="org-keyword">if</span> <span class="org-keyword">not</span> key <span class="org-keyword">in</span> bearing_dict:</code>
<code>      <span class="org-keyword">if</span> m <span class="org-keyword">and</span> m <span class="org-keyword">in</span> bearing_dict:</code>
<code>        <span class="org-variable-name">key</span> = m</code>
<code>      <span class="org-keyword">else</span>:</code>
<code>        <span class="org-variable-name">key</span> = <span class="org-string">'Default'</span></code>
<code>    <span class="org-keyword">if</span> bearing_dict[key][1] != <span class="org-string">''</span>:</code>
<code>      font[g]<span class="org-variable-name">.left_side_bearing</span> = bearing_dict[key][1]</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      font[g]<span class="org-variable-name">.left_side_bearing</span> = bearing_dict[<span class="org-string">'Default'</span>][1]</code>
<code>    <span class="org-keyword">if</span> bearing_dict[key][2] != <span class="org-string">''</span>:</code>
<code>      font[g]<span class="org-variable-name">.right_side_bearing</span> = bearing_dict[key][2]</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      font[g]<span class="org-variable-name">.right_side_bearing</span> = bearing_dict[<span class="org-string">'Default'</span>][2]</code>
<code>  <span class="org-keyword">if</span> <span class="org-string">'space'</span> <span class="org-keyword">not</span> <span class="org-keyword">in</span> bearing_dict:</code>
<code>    <span class="org-variable-name">space</span> = font.createMappedChar(<span class="org-string">'space'</span>)</code>
<code>    <span class="org-variable-name">space.width</span> = <span class="org-builtin">int</span>(font.em / 5)</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org1738e5e" class="outline-3">
<h3 id="org1738e5e">Kern the font</h3>
<div class="outline-text-3" id="text-org1738e5e">
</div>
<div id="outline-container-org06893d2" class="outline-4">
<h4 id="org06893d2">Kern by classes</h4>
<div class="outline-text-4" id="text-org06893d2">
<p>
NOTE: This removes the old kerning table.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org43b6171"><code><span class="org-keyword">def</span> <span class="org-function-name">get_classes</span>(row):</code>
<code>  <span class="org-variable-name">result</span> = []</code>
<code>  <span class="org-keyword">for</span> x <span class="org-keyword">in</span> row:</code>
<code>    <span class="org-keyword">if</span> x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span> <span class="org-keyword">or</span> x <span class="org-keyword">is</span> <span class="org-constant">None</span>:</code>
<code>      result.append(<span class="org-constant">None</span>)</code>
<code>    <span class="org-keyword">elif</span> <span class="org-builtin">isinstance</span>(x, <span class="org-builtin">str</span>):</code>
<code>      result.append(x.split(<span class="org-string">','</span>))</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      result.append(x)</code>
<code>  <span class="org-keyword">return</span> result</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">kern_classes</span>(font, kerning_matrix):</code>
<code>  <span class="org-keyword">try</span>:</code>
<code>    font.removeLookup(<span class="org-string">'kern'</span>)</code>
<code>    <span class="org-keyword">print</span>(<span class="org-string">"Old table removed."</span>)</code>
<code>  <span class="org-keyword">except</span>:</code>
<code>    <span class="org-keyword">print</span>(<span class="org-string">"Starting from scratch"</span>)    </code>
<code>  font.addLookup(<span class="org-string">"kern"</span>, <span class="org-string">"gpos_pair"</span>, 0, [[<span class="org-string">"kern"</span>,[[<span class="org-string">"latn"</span>,[<span class="org-string">"dflt"</span>]]]]])</code>
<code>  <span class="org-variable-name">offsets</span> = np.asarray(kerning_matrix)</code>
<code>  <span class="org-variable-name">classes_right</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">","</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[0,1:]]</code>
<code>  <span class="org-variable-name">classes_left</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,0]]</code>
<code>  <span class="org-variable-name">offset_list</span> = [0 <span class="org-keyword">if</span> x == <span class="org-string">""</span> <span class="org-keyword">else</span> <span class="org-builtin">int</span>(x) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,1:].reshape(-1)]</code>
<code>  <span class="org-comment-delimiter">#</span><span class="org-comment">print('left', len(classes_left), classes_left)</span></code>
<code>  <span class="org-comment-delimiter">#</span><span class="org-comment">print('right', len(classes_right), classes_right)</span></code>
<code>  <span class="org-comment-delimiter">#</span><span class="org-comment">print('offset', len(offset_list), offset_list)</span></code>
<code>  font.addKerningClass(<span class="org-string">"kern"</span>, <span class="org-string">"kern-1"</span>, classes_left, classes_right, offset_list)</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgbe07b9a" class="outline-4">
<h4 id="orgbe07b9a">Kern by character</h4>
<div class="outline-text-4" id="text-orgbe07b9a">
<p>
While trying to figure out kerning, I came across this issue that
described how you sometimes need a <a href="https://www.dafont.com/forum/read/405813/the-kerning-is-set-in-a-way-that-doesn-t-work-at-dafont-we-use-the-gd-library-of-php">character-pair kern table instead
of just class-based kerning</a>. Since I had figured out character-based
kerning before I figured out class-based kerning, it was easy to
restore my Python code that takes the same kerning matrix and
generates character pairs. Here's what that code looks like.
</p>

<div class="org-src-container">
<pre class="src src-python" id="org2a330f1"><code><span class="org-keyword">def</span> <span class="org-function-name">kern_by_char</span>(font, kerning_matrix):</code>
<code>  <span class="org-comment-delimiter"># </span><span class="org-comment">Add kerning by character as backup</span></code>
<code>  font.addLookupSubtable(<span class="org-string">"kern"</span>, <span class="org-string">"kern-2"</span>)</code>
<code>  <span class="org-variable-name">offsets</span> = np.asarray(kerning_matrix)</code>
<code>  <span class="org-variable-name">classes_right</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">","</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[0,1:]]</code>
<code>  <span class="org-variable-name">classes_left</span> = [<span class="org-constant">None</span> <span class="org-keyword">if</span> (x == <span class="org-string">""</span> <span class="org-keyword">or</span> x == <span class="org-string">"None"</span>) <span class="org-keyword">else</span> x.split(<span class="org-string">','</span>) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> offsets[1:,0]]</code>
<code>  <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_left):</code>
<code>    <span class="org-keyword">if</span> row <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>    <span class="org-keyword">for</span> first_letter <span class="org-keyword">in</span> row:</code>
<code>      <span class="org-variable-name">g</span> = font.createMappedChar(first_letter)</code>
<code>      <span class="org-keyword">for</span> c, column <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_right):</code>
<code>        <span class="org-keyword">if</span> column <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>        <span class="org-keyword">for</span> second_letter <span class="org-keyword">in</span> column:</code>
<code>          <span class="org-keyword">if</span> kerning_matrix[r + 1][c + 1]:</code>
<code>            g.addPosSub(<span class="org-string">"kern-2"</span>, second_letter, 0, 0, kerning_matrix[r + 1][c + 1], 0, 0, 0, 0, 0)</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org352b731" class="outline-3">
<h3 id="org352b731">Hand-tweak the glyphs</h3>
<div class="outline-text-3" id="text-org352b731">
<div class="org-src-container">
<pre class="src src-python" id="org5a74dcd"><code><span class="org-keyword">def</span> <span class="org-function-name">copy_glyphs</span>(font, edited):</code>
<code>  edited.selection.<span class="org-builtin">all</span>()</code>
<code>  edited.copy()</code>
<code>  font.selection.<span class="org-builtin">all</span>()</code>
<code>  font.paste()</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org726a11d" class="outline-2">
<h2 id="org726a11d">Generate fonts</h2>
<div class="outline-text-2" id="text-org726a11d">
<p>
I wanted to be able to easily compare different versions of my font:
my original glyphs versus my tweaked glyphs, simple spacing versus
kerned. This was a hassle with FontForge, since I had to open
different font files in different Metrics windows. If I execute a
little bit of source code in my Org Mode, though, I can use my test
web page to view all the different versions. By arranging my Emacs
windows a certain way and adding <code>:eval no</code> to the Org Babel blocks
I'm not currently using, I can easily change the relevant table
entries and evaluate the whole buffer to regenerate the font versions,
including exports to OTF and WOFF. 
</p>

<p>
This code helps me update my hand-edited fonts.
</p>
<div class="org-src-container">
<pre class="src src-python" id="org81bf608"><code><span class="org-keyword">def</span> <span class="org-function-name">kern_existing_font</span>(filename=<span class="org-constant">None</span>, font=<span class="org-constant">None</span>, bearings=<span class="org-constant">None</span>, kerning_matrix=<span class="org-constant">None</span>, **kwargs):</code>
<code>  <span class="org-keyword">if</span> font <span class="org-keyword">is</span> <span class="org-constant">None</span>:</code>
<code>    <span class="org-variable-name">font</span> = load_font(filename)</code>
<code>  <span class="org-variable-name">font</span> = set_bearings(font, bearings)</code>
<code>  <span class="org-variable-name">font</span> = kern_classes(font, kerning_matrix)</code>
<code>  <span class="org-variable-name">font</span> = kern_by_char(font, kerning_matrix)</code>
<code>  save_font(font)</code>
<code>  <span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">"test-%s.html"</span> % font.fontname, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>    f.write(test_font_html(font.fontname + <span class="org-string">'.woff'</span>))</code>
<code>  <span class="org-keyword">return</span> font</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org3226539"><code>&lt;&lt;params&gt;&gt;</code>
<code>&lt;&lt;def_cut_glyphs&gt;&gt;</code>
<code>&lt;&lt;def_import_glyphs&gt;&gt;</code>
<code>&lt;&lt;def_set_bearings&gt;&gt;</code>
<code>&lt;&lt;def_kern_classes&gt;&gt;</code>
<code>&lt;&lt;def_kern_by_char&gt;&gt;</code>
<code>&lt;&lt;def_kern_existing_font&gt;&gt;</code>
<code>&lt;&lt;def_test_font_html&gt;&gt;</code>
</pre>
</div>
</div>

<div id="outline-container-orgda27c7c" class="outline-3">
<h3 id="orgda27c7c">Generate sachacHand Light</h3>
<div class="outline-text-3" id="text-orgda27c7c">
<table id="orgd299f96" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">60</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">60</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">60</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">30</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-20</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">80</td>
<td class="org-right">80</td>
</tr>

<tr>
<td class="org-left">h</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">80</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-70</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">80</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">80</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">o</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">70</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">70</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">60</td>
<td class="org-right">60</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">w</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<p>
Rows are first characters, columns are second characters.
</p>

<table id="org1c46dc6" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-right">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t</td>
<td class="org-right">x,v,z</td>
<td class="org-right">h,b,l,i</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-left">k</td>
<td class="org-right">y</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-left">F</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">0</td>
<td class="org-right">-30</td>
<td class="org-right">-61</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">0</td>
<td class="org-right">-50</td>
<td class="org-right">-41</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">0</td>
<td class="org-right">-32</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">29</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">0</td>
<td class="org-right">-10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-48</td>
<td class="org-right">-150</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-79</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">0</td>
<td class="org-right">-10</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-110</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-35</td>
<td class="org-right">-15</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">43</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-right">0</td>
<td class="org-right">-23</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-170</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">7</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">0</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">0</td>
<td class="org-right">-150</td>
<td class="org-right">-120</td>
<td class="org-right">-120</td>
<td class="org-right">-30</td>
<td class="org-right">-40</td>
<td class="org-right">-130</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">-80</td>
<td class="org-right">0</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">0</td>
<td class="org-right">-90</td>
<td class="org-right">-90</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-80</td>
<td class="org-right">-40</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">0</td>
<td class="org-right">-100</td>
<td class="org-right">-70</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">q,d,h,y,j</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-left">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">40</td>
<td class="org-right">20</td>
<td class="org-right">-80</td>
<td class="org-right">-120</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-left">20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-left">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-left">10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-left">10</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandLightEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Light'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Light'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 200</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>    font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(font=font, bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>
</div>
</div>


<div id="outline-container-orgf6ab4bc" class="outline-3">
<h3 id="orgf6ab4bc">Generate sachacHand Regular</h3>
<div class="outline-text-3" id="text-orgf6ab4bc">
<table id="org1f62b3b" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">40</td>
<td class="org-right">-90</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">20</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">40</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">70</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">-50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">70</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">-10</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-40</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">50</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">40</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">70</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">70</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<table id="orged23028" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-left">None</th>
<th scope="col" class="org-right">m,n,p,r</th>
<th scope="col" class="org-right">h,b,l,i,k</th>
<th scope="col" class="org-right">o,a,c,e,d,g,q,w,u</th>
<th scope="col" class="org-right">f,t</th>
<th scope="col" class="org-right">x,v,z</th>
<th scope="col" class="org-right">j</th>
<th scope="col" class="org-right">y</th>
<th scope="col" class="org-right">s</th>
<th scope="col" class="org-right">T</th>
<th scope="col" class="org-right">J</th>
<th scope="col" class="org-right">F,B,D,E,H,I,K,L,M,N,P,R</th>
<th scope="col" class="org-right">V</th>
<th scope="col" class="org-left">A,C,G,K,O,Q,S,W</th>
<th scope="col" class="org-right">U</th>
<th scope="col" class="org-right">X</th>
<th scope="col" class="org-right">Y</th>
<th scope="col" class="org-right">Z</th>
<th scope="col" class="org-right">zero</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">None</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">110</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
<td class="org-right">-60</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">-80</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-160</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-50</td>
<td class="org-right">-10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">-20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-140</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-20</td>
<td class="org-right">-40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">-100</td>
<td class="org-right">-70</td>
<td class="org-right">-90</td>
<td class="org-right">-120</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-100</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-140</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">h,q,y,j</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-130</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-130</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">-80</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-30</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-left">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">0</td>
<td class="org-right">50</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">110</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">80</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">90</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>


<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandRegularEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Regular'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Regular'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 400</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>    font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(filename=<span class="org-string">"sachacHandRegularEdited.sfd"</span>,bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>

<pre class="example">
<code>Bad name when parsing aglfn for unicode 41</code>
<code>Old table removed.</code>
<code>Traceback (most recent call last):</code>
<code>  File "&lt;stdin&gt;", line 1, in &lt;module&gt;</code>
<code>  File "/tmp/babel-RQDYFr/python-8wNyrc", line 383, in &lt;module&gt;</code>
<code>    kern_existing_font(filename="sachacHandRegularEdited.sfd",bearings=bearings, kerning_matrix=kerning_matrix)</code>
<code>  File "/tmp/babel-RQDYFr/python-8wNyrc", line 240, in kern_existing_font</code>
<code>    f.write(test_font_html(font.fontname + '.woff'))</code>
<code>  File "/tmp/babel-RQDYFr/python-8wNyrc", line 314, in test_font_html</code>
<code>    for v in variants:</code>
<code>TypeError: 'NoneType' object is not iterable</code>
</pre>
</div>
</div>


<div id="outline-container-org1d4c18b" class="outline-3">
<h3 id="org1d4c18b">Generate sachacHand Bold</h3>
<div class="outline-text-3" id="text-org1d4c18b">
<p>
For cutting the glyphs:
</p>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'row_padding'</span>: 50,</code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'sample-sachacHand-regular.png'</span>,</code>
<code>          <span class="org-string">'new_font_file'</span>: <span class="org-string">'sachacHandRegular.sfd'</span>,</code>
<code>          <span class="org-string">'new_otf'</span>: <span class="org-string">'sachacHandRegular.otf'</span>,</code>
<code>          <span class="org-string">'letters'</span>: <span class="org-constant">None</span>,</code>
<code>          <span class="org-string">'matrix'</span>:</code>
<code>            [<span class="org-string">'H,e,q,A,M,Y,8,\',#,&lt;'</span>,</code>
<code>             <span class="org-string">'O,b,r,B,N,Z,9,quoteright,$,&gt;'</span>,</code>
<code>             <span class="org-string">'n,h,u,R,P,0,?,",['</span>,</code>
<code>             <span class="org-string">'o,k,w,D,Q,1,:,quotedblleft,&amp;,]'</span>,</code>
<code>             <span class="org-string">'d,l,v,L,S,2,;,quotedblright,(,^'</span>,</code>
<code>             <span class="org-string">'p,f,x,E,T,3,-,@,),`'</span>,</code>
<code>             <span class="org-string">'a,t,y,F,U,4,endash,/,*,{'</span>,</code>
<code>             <span class="org-string">'g,i,z,I,V,5,emdash,\\,+,|'</span>,</code>
<code>             <span class="org-string">'s,j,C,J,W,6,=,~,comma,}'</span>,</code>
<code>             <span class="org-string">'c,m,G,K,X,7,!,_,.,I.alt1'</span>]}</code>
<code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">cut_glyphs(**params)</span></code>
</pre>
</div>

<p>
Kerning:
</p>

<table id="org4392164" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">&#xa0;</th>
<th scope="col" class="org-right">Left</th>
<th scope="col" class="org-right">Right</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">Default</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">30</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">20</td>
<td class="org-right">-30</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">50</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">-50</td>
<td class="org-right">-80</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">50</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">60</td>
<td class="org-right">50</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">-10</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">70</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">60</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">40</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">60</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">60</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">50</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">-40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">60</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">50</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">40</td>
<td class="org-right">0</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
</tr>
</tbody>
</table>

<table id="org38d2d73" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">&#xa0;</td>
<td class="org-left">None</td>
<td class="org-right">o,a,c,e,d,g,q,w</td>
<td class="org-right">f,t</td>
<td class="org-right">x,v,z</td>
<td class="org-right">h,b,l,i</td>
<td class="org-right">j</td>
<td class="org-right">m,n,p,r,u</td>
<td class="org-right">k</td>
<td class="org-right">y</td>
<td class="org-right">s</td>
<td class="org-right">T</td>
<td class="org-right">F</td>
<td class="org-right">V</td>
<td class="org-right">zero</td>
</tr>

<tr>
<td class="org-left">None</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">n,m</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">0</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">-90</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-160</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-190</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-90</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">b,o,p</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">a</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
<td class="org-right">-90</td>
<td class="org-right">-30</td>
<td class="org-right">-120</td>
<td class="org-right">-70</td>
<td class="org-right">-30</td>
<td class="org-right">-30</td>
<td class="org-right">-80</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">q,d,h,y,j</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">-50</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
</tr>

<tr>
<td class="org-left">c,e,s,u,w,x,z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-80</td>
<td class="org-right">-20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-40</td>
<td class="org-right">-40</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">60</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">M,N,H,I</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">O,Q,D,U</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">50</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">-20</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-70</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">40</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">40</td>
<td class="org-right">10</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">50</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">10</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-10</td>
<td class="org-right">-10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-90</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">-50</td>
<td class="org-right">30</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">K,R</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-60</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">-100</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>

<tr>
<td class="org-left">B,S,X,Z</td>
<td class="org-left">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">40</td>
<td class="org-right">30</td>
<td class="org-right">30</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">20</td>
<td class="org-right">-20</td>
<td class="org-right">10</td>
<td class="org-right">&#xa0;</td>
<td class="org-right">&#xa0;</td>
</tr>
</tbody>
</table>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">font = fontforge.font()</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">font = import_glyphs(font, **params)</span></code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandBoldEdited.sfd'</span>)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Bold'</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Bold'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 600</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'../LICENSE'</span>, <span class="org-string">'r'</span>) <span class="org-keyword">as</span> <span class="org-builtin">file</span>:</code>
<code>  font.<span class="org-constant">copyright</span> = <span class="org-builtin">file</span>.read()</code>
<code>kern_existing_font(font=font, bearings=bearings, kerning_matrix=kerning_matrix)</code>
</pre>
</div>
</div>
</div>
</div>


<div id="outline-container-org0a25f47" class="outline-2">
<h2 id="org0a25f47">Variants</h2>
<div class="outline-text-2" id="text-org0a25f47">
<p>
<a href="https://www.youtube.com/watch?v=WqSQU7nuTsc">https://www.youtube.com/watch?v=WqSQU7nuTsc</a>
<a href="https://www.tug.org/TUGboat/tb24-3/williams.pdf">https://www.tug.org/TUGboat/tb24-3/williams.pdf</a>
<a href="https://typedrawers.com/discussion/1357/how-can-i-randomize-letters-in-a-typeface">https://typedrawers.com/discussion/1357/how-can-i-randomize-letters-in-a-typeface</a>
<a href="http://learn.scannerlicker.net/2015/06/12/making-a-font-maximal-part-iii/">http://learn.scannerlicker.net/2015/06/12/making-a-font-maximal-part-iii/</a>
</p>
</div>

<div id="outline-container-org4a74eee" class="outline-3">
<h3 id="org4a74eee">Import the glyphs for variant1 and variant2</h3>
<div class="outline-text-3" id="text-org4a74eee">
<p>
Expanding the kerning matrix:
</p>

<ul class="org-ul">
<li>Specify list of variant glyphs to add to existing classes if not specified</li>
<li>Specify suffixes, try each glyph to see if it exists</li>
<li>Check the font to see what other glyphs are specified, add to those classes</li>
</ul>

<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;def_all&gt;&gt;</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">get_stylistic_set</span>(font, suffix):</code>
<code>  <span class="org-keyword">return</span> [g <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font <span class="org-keyword">if</span> suffix <span class="org-keyword">in</span> g]</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">add_character_variants</span>(font, sets):</code>
<code>  <span class="org-keyword">if</span> <span class="org-keyword">not</span> <span class="org-string">'calt'</span> <span class="org-keyword">in</span> font.gsub_lookups:</code>
<code>    font.addLookup(<span class="org-string">'calt'</span>, <span class="org-string">'gsub_contextchain'</span>, 0, [[<span class="org-string">'calt'</span>, [[<span class="org-string">'latn'</span>, [<span class="org-string">'dflt'</span>]]]]])</code>
<code>  <span class="org-variable-name">prev_tag</span> = <span class="org-string">''</span></code>
<code>  <span class="org-keyword">for</span> i, sub <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(sets):</code>
<code>    <span class="org-keyword">if</span> <span class="org-keyword">not</span> sub <span class="org-keyword">in</span> font.gsub_lookups: </code>
<code>      font.addLookup(sub, <span class="org-string">'gsub_single'</span>, 0, [])</code>
<code>      font.addLookupSubtable(sub, sub + <span class="org-string">'-1'</span>)</code>
<code>    <span class="org-variable-name">alt_set</span> = get_stylistic_set(font, sub)</code>
<code>    <span class="org-keyword">for</span> g <span class="org-keyword">in</span> alt_set:</code>
<code>      get_glyph(font, glyph_base_name(g)).addPosSub(sub + <span class="org-string">'-1'</span>, g)</code>
<code>    <span class="org-variable-name">default</span> = [glyph_base_name(g) <span class="org-keyword">for</span> g <span class="org-keyword">in</span> alt_set]</code>
<code>    <span class="org-variable-name">prev_set</span> = [glyph_base_name(g) + prev_tag <span class="org-keyword">for</span> g <span class="org-keyword">in</span> alt_set]</code>
<code>    <span class="org-keyword">print</span>(<span class="org-string">'%d | %d @&lt;ss%02d&gt;'</span> % (i + 1, 1, i + 1))</code>
<code>    <span class="org-keyword">print</span>(default)</code>
<code>    <span class="org-variable-name">default</span> = default + [<span class="org-string">'0'</span>]</code>
<code>    <span class="org-keyword">try</span>: font.removeLookupSubtable(<span class="org-string">'calt-%d'</span> % (i + 1))</code>
<code>    <span class="org-keyword">except</span> <span class="org-type">Exception</span>: <span class="org-keyword">pass</span></code>
<code>    <span class="org-keyword">print</span>(prev_set)</code>
<code>    <span class="org-keyword">if</span> i == 0:</code>
<code>      font.addContextualSubtable(<span class="org-string">'calt'</span>, <span class="org-string">'calt-%d'</span> % (i + 1), <span class="org-string">'class'</span>, <span class="org-string">'%d | %d @&lt;ss%02d&gt;'</span> % (i + 1, 1, i + 1),</code>
<code>                                 bclasses=(<span class="org-constant">None</span>, default), mclasses=(<span class="org-constant">None</span>, default))</code>
<code>    <span class="org-keyword">else</span>:</code>
<code>      font.addContextualSubtable(<span class="org-string">'calt'</span>, <span class="org-string">'calt-%d'</span> % (i + 1), <span class="org-string">'class'</span>, <span class="org-string">'%d | %d @&lt;ss%02d&gt;'</span> % (i + 1, 1, i + 1),</code>
<code>                                 bclasses=(<span class="org-constant">None</span>, default, prev_set), mclasses=(<span class="org-constant">None</span>, default, prev_set))</code>
<code>    <span class="org-variable-name">prev_tag</span> = <span class="org-string">'.'</span> + sub    </code>
<code>  <span class="org-keyword">return</span> font</code>
<code></code>
<code><span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">'sachacHandRegularEdited.sfd'</span>)</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'row_padding'</span>: 50,</code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'sample-sachacHand-regular-variant1.png'</span>,</code>
<code>          <span class="org-string">'new_font_file'</span>: <span class="org-string">'sachacHandRegular-Variants.sfd'</span>,</code>
<code>          <span class="org-string">'new_otf'</span>: <span class="org-string">'sachacHandRegular-Variants.otf'</span>,</code>
<code>          <span class="org-string">'letters'</span>: <span class="org-constant">None</span>,</code>
<code>          <span class="org-string">'matrix'</span>:</code>
<code>            [<span class="org-string">'H.ss01,e.ss01,q.ss01,A.ss01,M.ss01,Y.ss01,eight.ss01,quotesingle.ss01,numbersign.ss01,less.ss01'</span>,</code>
<code>             <span class="org-string">'O.ss01,b.ss01,r.ss01,B.ss01,N.ss01,Z.ss01,nine.ss01,quoteright.ss01,dollar.ss01,greater.ss01'</span>,</code>
<code>             <span class="org-string">'n.ss01,h.ss01,u.ss01,R.ss01,P.ss01,zero.crossed,question.ss01,quotedbl.ss01,bracketleft.ss01'</span>,</code>
<code>             <span class="org-string">'o.ss01,k.ss01,w.ss01,D.ss01,Q.ss01,one.ss01,colon.ss01,quotedblleft.ss01,ampersand,bracketright.ss01'</span>,</code>
<code>             <span class="org-string">'d.ss01,l.ss01,v.ss01,L.ss01,S.ss01,two.ss01,semicolon.ss01,quotedblright.ss01,parenleft.ss01,asciicircum.ss01'</span>,</code>
<code>             <span class="org-string">'p.ss01,f.ss01,x.ss01,E.ss01,T.ss01,three.ss01,hyphen.ss01,at.ss01,parenright.ss01,grave.ss01'</span>,</code>
<code>             <span class="org-string">'a.ss01,t.ss01,y.ss01,F.ss01,U.ss01,four.ss01,endash.ss01,slash.ss01,asterisk.ss01,braceleft.ss01'</span>,</code>
<code>             <span class="org-string">'g.ss01,i.ss01,z.ss01,I.ss01,V.ss01,five.ss01,emdash.ss01,backslash.ss01,plus.ss01,bar.ss01'</span>,</code>
<code>             <span class="org-string">'s.ss01,j.ss01,C.ss01,J.ss01,W.ss01,six.ss01,equal.ss01,asciitilde.ss01,comma.ss01,braceright.ss01'</span>,</code>
<code>             <span class="org-string">'c.ss01,m.ss01,G.ss01,K.ss01,X.ss01,seven.ss01,exclam.ss01,underscore.ss01,period.ss01,zero.ss01'</span>]}</code>
<code>cut_glyphs(**params)</code>
<code><span class="org-variable-name">matrix</span> = glyph_matrix(font=font, matrix=params[<span class="org-string">'matrix'</span>])</code>
<code>import_glyphs(font, **params)</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'sample-sachacHand-bold.png'</span>,</code>
<code>          <span class="org-string">'matrix'</span>:</code>
<code>            [<span class="org-string">'H.ss02,e.ss02,q.ss02,A.ss02,M.ss02,Y.ss02,eight.ss02,quotesingle.ss02,numbersign.ss02,less.ss02'</span>,</code>
<code>             <span class="org-string">'O.ss02,b.ss02,r.ss02,B.ss02,N.ss02,Z.ss02,nine.ss02,quoteright.ss02,dollar.ss02,greater.ss02'</span>,</code>
<code>             <span class="org-string">'n.ss02,h.ss02,u.ss02,R.ss02,P.ss02,zero.ss02,question.ss02,quotedbl.ss02,bracketleft.ss02'</span>,</code>
<code>             <span class="org-string">'o.ss02,k.ss02,w.ss02,D.ss02,Q.ss02,one.ss02,colon.ss02,quotedblleft.ss02,ampersand,bracketright.ss02'</span>,</code>
<code>             <span class="org-string">'d.ss02,l.ss02,v.ss02,L.ss02,S.ss02,two.ss02,semicolon.ss02,quotedblright.ss02,parenleft.ss02,asciicircum.ss02'</span>,</code>
<code>             <span class="org-string">'p.ss02,f.ss02,x.ss02,E.ss02,T.ss02,three.ss02,hyphen.ss02,at.ss02,parenright.ss02,grave.ss02'</span>,</code>
<code>             <span class="org-string">'a.ss02,t.ss02,y.ss02,F.ss02,U.ss02,four.ss02,endash.ss02,slash.ss02,asterisk.ss02,braceleft.ss02'</span>,</code>
<code>             <span class="org-string">'g.ss02,i.ss02,z.ss02,I.ss02,V.ss02,five.ss02,emdash.ss02,backslash.ss02,plus.ss02,bar.ss02'</span>,</code>
<code>             <span class="org-string">'s.ss02,j.ss02,C.ss02,J.ss02,W.ss02,six.ss02,equal.ss02,asciitilde.ss02,comma.ss02,braceright.ss02'</span>,</code>
<code>             <span class="org-string">'c.ss02,m.ss02,G.ss02,K.ss02,X.ss02,seven.ss02,exclam.ss02,underscore.ss02,period.ss02,None'</span>]}</code>
<code>cut_glyphs(**params)</code>
<code>import_glyphs(font, **params)</code>
<code>set_bearings(font, bearings)</code>
<code><span class="org-variable-name">variants</span> = [<span class="org-string">'ss01'</span>, <span class="org-string">'ss02'</span>]</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">expand_classes</span>(array, new_glyphs):</code>
<code>  <span class="org-variable-name">not_found</span> = []</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> new_glyphs:</code>
<code>    <span class="org-variable-name">found_exact</span> = <span class="org-constant">None</span></code>
<code>    <span class="org-variable-name">found_base</span> = <span class="org-constant">None</span></code>
<code>    <span class="org-variable-name">base</span> = glyph_base_name(g)</code>
<code>    <span class="org-keyword">for</span> i, class_glyphs <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(array):</code>
<code>      <span class="org-keyword">if</span> class_glyphs <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>      <span class="org-keyword">if</span> <span class="org-builtin">isinstance</span>(class_glyphs, <span class="org-builtin">str</span>):</code>
<code>        <span class="org-variable-name">class_glyphs</span> = class_glyphs.split(<span class="org-string">','</span>)</code>
<code>        <span class="org-variable-name">array</span>[i] = class_glyphs</code>
<code>      <span class="org-keyword">for</span> glyph <span class="org-keyword">in</span> class_glyphs:</code>
<code>        <span class="org-keyword">if</span> glyph == g:</code>
<code>          <span class="org-variable-name">found_exact</span> = i</code>
<code>          <span class="org-keyword">break</span></code>
<code>        <span class="org-keyword">if</span> glyph == base:</code>
<code>          <span class="org-variable-name">found_base</span> = i</code>
<code>          <span class="org-keyword">break</span></code>
<code>    <span class="org-keyword">if</span> found_exact: <span class="org-keyword">continue</span></code>
<code>    <span class="org-keyword">elif</span> found_base: array[found_base].append(g)</code>
<code>    <span class="org-keyword">else</span>: not_found.append(g)</code>
<code>  <span class="org-keyword">return</span> ([<span class="org-string">','</span>.join(x) <span class="org-keyword">for</span> x <span class="org-keyword">in</span> array], not_found)</code>
<code></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">def expand_kerning_matrix(font=font, kerning_matrix=kerning_matrix, new_glyphs=[]):</span></code>
<code><span class="org-comment-delimiter">#   </span><span class="org-comment">classes_right = [None if (x == "" or x == "None") else x.split(",") for x in offsets[0,1:]]</span></code>
<code><span class="org-comment-delimiter">#   </span><span class="org-comment">classes_left = [None if (x == "" or x == "None") else x.split(',') for x in offsets[1:,0]]</span></code>
<code><span class="org-comment-delimiter">#   </span><span class="org-comment">right_glyphs = np.asarray(offsets[0,1:]).reshape(-1)</span></code>
<code><span class="org-comment-delimiter">#   </span><span class="org-comment"># Expand all the right glyphs</span></code>
<code><span class="org-comment-delimiter">#   </span><span class="org-comment">for i, c in enumerate(kerning_matrix[0]):</span></code>
<code><span class="org-comment-delimiter">#     </span><span class="org-comment">if c is None: continue</span></code>
<code><span class="org-comment-delimiter">#     </span><span class="org-comment">glyphs = c.split(',')</span></code>
<code><span class="org-comment-delimiter">#     </span><span class="org-comment">for g in glyphs:</span></code>
<code></code>
<code><span class="org-variable-name">alt_set</span> = get_stylistic_set(font, <span class="org-string">'ss02'</span>)</code>
<code>(classes_right, not_found) = expand_classes(<span class="org-builtin">list</span>(kerning_matrix[0]), alt_set)</code>
<code>(classes_left, not_found) = expand_classes([x[0] <span class="org-keyword">for</span> x <span class="org-keyword">in</span> kerning_matrix], alt_set)</code>
<code><span class="org-variable-name">kerning_matrix</span>[0] = classes_right</code>
<code><span class="org-keyword">for</span> i, c <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_left):</code>
<code>  kerning_matrix[i][0] = c</code>
<code><span class="org-variable-name">font</span> = kern_classes(font, kerning_matrix)</code>
<code><span class="org-variable-name">font</span> = kern_by_char(font, kerning_matrix)</code>
<code>add_character_variants(font, variants)</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">font.mergeFeature('sachacHand-Regular-V.fea')</span></code>
<code><span class="org-variable-name">font.familyname</span> = <span class="org-string">'sachacHand'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Regular Variants'</span></code>
<code><span class="org-variable-name">font.os2_weight</span> = 400</code>
<code><span class="org-variable-name">font.os2_family_class</span> = 10 * 256 + 8</code>
<code><span class="org-variable-name">font.os2_vendor</span> = <span class="org-string">'SC83'</span></code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Regular-V'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">TODO Just plop them into different fonts, darn it.</span></code>
<code>save_font(font)</code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">"test-%s.html"</span> % font.fontname, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>  f.write(test_font_html(font.fontname + <span class="org-string">'.woff'</span>, variants=variants))</code>
<code></code>
</pre>
</div>

<pre class="example">
<code>Bad name when parsing aglfn for unicode 41</code>
<code>Old table removed.</code>
<code>1 | 1 @&lt;ss01&gt;</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period', 'zero']</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period', 'zero']</code>
<code>2 | 1 @&lt;ss02&gt;</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'zero', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period']</code>
<code>['H.ss01', 'e.ss01', 'q.ss01', 'A.ss01', 'M.ss01', 'Y.ss01', 'eight.ss01', 'quotesingle.ss01', 'numbersign.ss01', 'less.ss01', 'O.ss01', 'b.ss01', 'r.ss01', 'B.ss01', 'N.ss01', 'Z.ss01', 'nine.ss01', 'quoteright.ss01', 'dollar.ss01', 'greater.ss01', 'n.ss01', 'h.ss01', 'u.ss01', 'R.ss01', 'P.ss01', 'zero.ss01', 'question.ss01', 'quotedbl.ss01', 'bracketleft.ss01', 'o.ss01', 'k.ss01', 'w.ss01', 'D.ss01', 'Q.ss01', 'one.ss01', 'colon.ss01', 'quotedblleft.ss01', 'bracketright.ss01', 'd.ss01', 'l.ss01', 'v.ss01', 'L.ss01', 'S.ss01', 'two.ss01', 'semicolon.ss01', 'quotedblright.ss01', 'parenleft.ss01', 'asciicircum.ss01', 'p.ss01', 'f.ss01', 'x.ss01', 'E.ss01', 'T.ss01', 'three.ss01', 'hyphen.ss01', 'at.ss01', 'parenright.ss01', 'grave.ss01', 'a.ss01', 't.ss01', 'y.ss01', 'F.ss01', 'U.ss01', 'four.ss01', 'endash.ss01', 'slash.ss01', 'asterisk.ss01', 'braceleft.ss01', 'g.ss01', 'i.ss01', 'z.ss01', 'I.ss01', 'V.ss01', 'five.ss01', 'emdash.ss01', 'backslash.ss01', 'plus.ss01', 'bar.ss01', 's.ss01', 'j.ss01', 'C.ss01', 'J.ss01', 'W.ss01', 'six.ss01', 'equal.ss01', 'asciitilde.ss01', 'comma.ss01', 'braceright.ss01', 'c.ss01', 'm.ss01', 'G.ss01', 'K.ss01', 'X.ss01', 'seven.ss01', 'exclam.ss01', 'underscore.ss01', 'period.ss01']</code>
</pre>


<p>
Okay, why isn't it triggering when we start off with 0?
</p>

<pre class="example">
<code>Bad name when parsing aglfn for unicode 41</code>
<code>1 | 1 @&lt;ss01&gt;</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period', 'zero']</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period', 'zero']</code>
<code>2 | 1 @&lt;ss02&gt;</code>
<code>['H', 'e', 'q', 'A', 'M', 'Y', 'eight', 'quotesingle', 'numbersign', 'less', 'O', 'b', 'r', 'B', 'N', 'Z', 'nine', 'quoteright', 'dollar', 'greater', 'n', 'h', 'u', 'R', 'P', 'zero', 'question', 'quotedbl', 'bracketleft', 'o', 'k', 'w', 'D', 'Q', 'one', 'colon', 'quotedblleft', 'bracketright', 'd', 'l', 'v', 'L', 'S', 'two', 'semicolon', 'quotedblright', 'parenleft', 'asciicircum', 'p', 'f', 'x', 'E', 'T', 'three', 'hyphen', 'at', 'parenright', 'grave', 'a', 't', 'y', 'F', 'U', 'four', 'endash', 'slash', 'asterisk', 'braceleft', 'g', 'i', 'z', 'I', 'V', 'five', 'emdash', 'backslash', 'plus', 'bar', 's', 'j', 'C', 'J', 'W', 'six', 'equal', 'asciitilde', 'comma', 'braceright', 'c', 'm', 'G', 'K', 'X', 'seven', 'exclam', 'underscore', 'period']</code>
<code>['H.ss01', 'e.ss01', 'q.ss01', 'A.ss01', 'M.ss01', 'Y.ss01', 'eight.ss01', 'quotesingle.ss01', 'numbersign.ss01', 'less.ss01', 'O.ss01', 'b.ss01', 'r.ss01', 'B.ss01', 'N.ss01', 'Z.ss01', 'nine.ss01', 'quoteright.ss01', 'dollar.ss01', 'greater.ss01', 'n.ss01', 'h.ss01', 'u.ss01', 'R.ss01', 'P.ss01', 'zero.ss01', 'question.ss01', 'quotedbl.ss01', 'bracketleft.ss01', 'o.ss01', 'k.ss01', 'w.ss01', 'D.ss01', 'Q.ss01', 'one.ss01', 'colon.ss01', 'quotedblleft.ss01', 'bracketright.ss01', 'd.ss01', 'l.ss01', 'v.ss01', 'L.ss01', 'S.ss01', 'two.ss01', 'semicolon.ss01', 'quotedblright.ss01', 'parenleft.ss01', 'asciicircum.ss01', 'p.ss01', 'f.ss01', 'x.ss01', 'E.ss01', 'T.ss01', 'three.ss01', 'hyphen.ss01', 'at.ss01', 'parenright.ss01', 'grave.ss01', 'a.ss01', 't.ss01', 'y.ss01', 'F.ss01', 'U.ss01', 'four.ss01', 'endash.ss01', 'slash.ss01', 'asterisk.ss01', 'braceleft.ss01', 'g.ss01', 'i.ss01', 'z.ss01', 'I.ss01', 'V.ss01', 'five.ss01', 'emdash.ss01', 'backslash.ss01', 'plus.ss01', 'bar.ss01', 's.ss01', 'j.ss01', 'C.ss01', 'J.ss01', 'W.ss01', 'six.ss01', 'equal.ss01', 'asciitilde.ss01', 'comma.ss01', 'braceright.ss01', 'c.ss01', 'm.ss01', 'G.ss01', 'K.ss01', 'X.ss01', 'seven.ss01', 'exclam.ss01', 'underscore.ss01', 'period.ss01']</code>
</pre>
</div>
</div>

<div id="outline-container-org98dd64b" class="outline-3">
<h3 id="org98dd64b">Okay, how do I space and kern the variants more efficiently?</h3>
<div class="outline-text-3" id="text-org98dd64b">
<p>
font-feature-settings: "calt" 0; turns off variants. Works in Chrome, too.
</p>
</div>
</div>
</div>

<div id="outline-container-org842eb3a" class="outline-2">
<h2 id="org842eb3a">Test the fonts</h2>
<div class="outline-text-2" id="text-org842eb3a">
<p>
This lets me quickly try text with different versions of my font. I
can also look at lots of kerning pairs at the same time.
</p>

<p>
Resources:
</p>
<ul class="org-ul">
<li><a href="http://famira.com/article/letterproef">http://famira.com/article/letterproef</a></li>
<li><a href="http://ninastoessinger.com/stringmaker/index.php">http://ninastoessinger.com/stringmaker/index.php</a></li>
</ul>

<table id="org95eac34" border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-left" />

<col  class="org-left" />
</colgroup>
<thead>
<tr>
<th scope="col" class="org-left">Output</th>
<th scope="col" class="org-left">Font filename</th>
<th scope="col" class="org-left">Class</th>
</tr>
</thead>
<tbody>
<tr>
<td class="org-left">test-regular.html</td>
<td class="org-left">sachacHand.woff</td>
<td class="org-left">regular</td>
</tr>

<tr>
<td class="org-left">test-bold.html</td>
<td class="org-left">sachacHandBold.woff</td>
<td class="org-left">bold</td>
</tr>

<tr>
<td class="org-left">test-black.html</td>
<td class="org-left">sachacHandBlack.woff</td>
<td class="org-left">black</td>
</tr>
</tbody>
</table>

<pre class="example">
<code>[['test-regular.html', 'sachacHand.woff', 'regular'], ['test-bold.html', 'sachacHandBold.woff', 'bold'], ['test-black.html', 'sachacHandBlack.woff', 'black']]</code>
<code>[{'output': 'test-regular.html', 'font_filename': 'sachacHand.woff', 'klass': 'regular'}, {'output': 'test-bold.html', 'font_filename': 'sachacHandBold.woff', 'klass': 'bold'}, {'output': 'test-black.html', 'font_filename': 'sachacHandBlack.woff', 'klass': 'black'}]</code>
</pre>


<div class="org-src-container">
<pre class="src src-python" id="org0319960"><code><span class="org-variable-name">strings</span> = [<span class="org-string">"hhhhnnnnnnhhhhhnnnnnn"</span>, </code>
<code>           <span class="org-string">"ooonoonnonnn"</span>,</code>
<code>           <span class="org-string">"nnannnnbnnnncnnnndnnnnennnnfnnnngnnnnhnnnninnnnjnn"</span>,</code>
<code>           <span class="org-string">"nnknnnnlnnnnmnnnnnnnnnonnnnpnnnnqnnnnrnnnnsnnnntnn"</span>,</code>
<code>           <span class="org-string">"nnunnnnvnnnnwnnnnxnnnnynnnnznn"</span>,</code>
<code>           <span class="org-string">"HHHOHHOOHOOO"</span>,</code>
<code>           <span class="org-string">"HHAHHHHBHHHHCHHHHDHHHHEHHHHFHHHHGHHHHHHHHHIHHHHJHH"</span>,</code>
<code>           <span class="org-string">"HHKHHHHLHHHHMHHHHNHHHHOHHHHPHHHHQHHHHRHHHHSHHHHTHH"</span>,</code>
<code>           <span class="org-string">"HHUHHHHVHHHHWHHHHXHHHHYHHHHZHH"</span>,</code>
<code>           <span class="org-string">"Having fun kerning using Org Mode and FontForge"</span>,</code>
<code>           <span class="org-string">"Python+FontForge+Org: I made a font based on my handwriting!"</span>,</code>
<code>           <span class="org-string">"Monthly review: May 2020"</span>,</code>
<code>           <span class="org-string">"Emacs News 2020-06-01"</span>]</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_strings</span>(strings):</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">with</span> doc.tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-bottom: 1px solid gray; width: 100%; border-collapse: collapse'</span>):</code>
<code>    <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>      <span class="org-keyword">for</span> i, f <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(fonts):</code>
<code>        <span class="org-variable-name">style</span> = <span class="org-string">'border-top: 1px solid gray'</span> <span class="org-keyword">if</span> (i == 0) <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=f[0], style=style):</code>
<code>          line(<span class="org-string">'td'</span>, f[0])</code>
<code>          line(<span class="org-string">'td'</span>, s)</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_kerning_matrix</span>(font):</code>
<code>  <span class="org-variable-name">sub</span> = font.getLookupSubtables(font.gpos_lookups[0])</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">for</span> s <span class="org-keyword">in</span> sub:</code>
<code>    <span class="org-keyword">if</span> font.isKerningClass(s):</code>
<code>      (classes_left, classes_right, array) = font.getKerningClass(s)</code>
<code>      <span class="org-variable-name">kerning</span> = np.array(array).reshape(<span class="org-builtin">len</span>(classes_left), <span class="org-builtin">len</span>(classes_right))</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-collapse: collapse'</span>):</code>
<code>        <span class="org-keyword">for</span> r, row <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_left):</code>
<code>          <span class="org-keyword">if</span> row <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>          <span class="org-keyword">for</span> j, first_letter <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(row):</code>
<code>            <span class="org-keyword">if</span> first_letter == <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>            <span class="org-variable-name">style</span> = <span class="org-string">"border-top: 1px solid gray"</span> <span class="org-keyword">if</span> j == 0 <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>            <span class="org-variable-name">g1</span> = aglfn.to_glyph(glyph_base_name(first_letter))</code>
<code>            <span class="org-variable-name">c1</span> = glyph_suffix(first_letter)</code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, style=style):</code>
<code>              line(<span class="org-string">'td'</span>, first_letter)</code>
<code>              <span class="org-keyword">for</span> c, column <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(classes_right):</code>
<code>                <span class="org-keyword">if</span> column <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>                <span class="org-keyword">for</span> i, second_letter <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(column):</code>
<code>                  <span class="org-keyword">if</span> second_letter <span class="org-keyword">is</span> <span class="org-constant">None</span>: <span class="org-keyword">continue</span></code>
<code>                  <span class="org-variable-name">g2</span> = aglfn.to_glyph(glyph_base_name(second_letter))</code>
<code>                  <span class="org-variable-name">c2</span> = glyph_suffix(second_letter)</code>
<code>                  <span class="org-variable-name">klass</span> = <span class="org-string">"kerned"</span> <span class="org-keyword">if</span> kerning[r][c] <span class="org-keyword">else</span> <span class="org-string">"default"</span></code>
<code>                  <span class="org-variable-name">style</span> = <span class="org-string">"border-left: 1px solid gray"</span> <span class="org-keyword">if</span> i == 0 <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>                  <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>, klass=klass, style=style):</code>
<code>                    doc.asis(<span class="org-string">'&lt;span class="base"&gt;n&lt;/span&gt;&lt;span class="%s" title="%s"&gt;%s&lt;/span&gt;&lt;span class="%s" title="%s"&gt;%s&lt;/span&gt;&lt;span class="base"&gt;n&lt;/span&gt;'</span> % (c1, first_letter, g1, c2, second_letter, g2))</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
<code><span class="org-keyword">from</span> yattag <span class="org-keyword">import</span> Doc</code>
<code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> aglfn</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_glyphs</span>(font, count=1):</code>
<code>  <span class="org-keyword">return</span> <span class="org-string">''</span>.join([(aglfn.to_glyph(g) <span class="org-keyword">or</span> <span class="org-string">""</span>) * count <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font <span class="org-keyword">if</span> (font[g].isWorthOutputting() <span class="org-keyword">and</span> font[g].<span class="org-builtin">unicode</span> &gt; -1)])</code>
<code></code>
<code><span class="org-keyword">def</span> <span class="org-function-name">test_font_html</span>(font_filename=<span class="org-constant">None</span>, variants=<span class="org-constant">None</span>):</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-variable-name">font</span> = fontforge.<span class="org-builtin">open</span>(font_filename)</code>
<code>  <span class="org-variable-name">name</span> = font.fontname</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>): </code>
<code>      doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>      doc.asis(<span class="org-string">'&lt;meta charset="UTF-8"&gt;'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'style'</span>):</code>
<code>        doc.asis(<span class="org-string">"@font-face { font-family: '%s'; src: url('%s'); }\n"</span> % (name, font_filename))</code>
<code>        doc.asis(<span class="org-string">"body { font-family: '%s'; }\n"</span> % name)</code>
<code>        doc.asis(<span class="org-string">".bold { font-weight: bold } .italic { font-style: italic } .oblique { font-style: oblique }"</span>)</code>
<code>        doc.asis(<span class="org-string">".small-caps { font-variant: small-caps }"</span>)</code>
<code>        <span class="org-keyword">for</span> v <span class="org-keyword">in</span> variants:</code>
<code>          doc.asis(<span class="org-string">'.%s { font-feature-settings: "calt" off, "%s" on; }'</span> % (v, v))</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>):</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'index.html'</span>):</code>
<code>        text(<span class="org-string">'Back to index'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'div'</span>, style=<span class="org-string">'float: right'</span>):</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=font.fullname + <span class="org-string">'.woff'</span>):</code>
<code>          text(<span class="org-string">'WOFF'</span>)</code>
<code>        text(<span class="org-string">' | '</span>)</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=font.fullname + <span class="org-string">'.otf'</span>):</code>
<code>          text(<span class="org-string">'OTF'</span>)</code>
<code>      line(<span class="org-string">'h1'</span>, font.fullname)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Glyphs and sizes'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> size <span class="org-keyword">in</span> [10, 14, 20, 24, 36, 72]:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, style=<span class="org-string">'font-size: %dpt'</span> % size):</code>
<code>            line(<span class="org-string">'td'</span>, size)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Variants'</span>)</code>
<code>      line(<span class="org-string">'div'</span>, test_glyphs(font, 4))</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>, klass=<span class="org-string">'nocalt'</span>):</code>
<code>        <span class="org-keyword">for</span> v <span class="org-keyword">in</span> variants:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>):</code>
<code>            line(<span class="org-string">'td'</span>, v)</code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>, klass=v):</code>
<code>              text(test_glyphs(font))</code>
<code></code>
<code><span class="org-comment-delimiter">#       </span><span class="org-comment">line('h2', 'Accents')</span></code>
<code><span class="org-comment-delimiter">#       </span><span class="org-comment">line('div', '''</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#161; &#162; &#163; &#164; &#165; &#166; &#167; &#168; &#169; &#170; &#171; &#172; &#173; &#174; &#175; &#176; &#177; &#178; &#179; &#180; &#181; &#182; &#183; &#184; &#185; &#186; &#187; &#188; &#189; &#190; &#191; &#192; &#193; &#194; &#195;'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#196; &#197; &#198; &#199; &#200; &#201; &#202; &#203; &#204; &#205; &#206; &#207; &#208; &#209; &#210; &#211; &#212; &#213; &#214; &#215; &#216; &#217; &#218; &#219; &#220; &#221; &#222; &#223; &#224; &#225; &#226; &#227; &#228; &#229; &#230;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#231; &#232; &#233; &#234; &#235; &#236; &#237; &#238; &#239; &#240; &#241; &#242; &#243; &#244; &#245; &#246; &#247; &#248; &#249; &#250; &#251; &#252; &#253; &#254; &#255; &#256; &#257; &#258; &#259; &#260; &#261; &#262; &#263; &#264; &#265;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#266; &#267; &#268; &#269; &#270; &#271; &#272; &#273; &#274; &#275; &#276; &#277; &#278; &#279; &#280; &#281; &#282; &#283; &#284; &#285; &#286; &#287; &#288; &#289; &#290; &#291; &#292; &#293; &#294; &#295; &#296;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#297; &#298; &#299; &#300; &#301; &#302; &#303; &#304; &#305; &#306; &#307; &#308; &#309; &#310; &#311; &#312; &#313; &#314; &#315; &#316; &#317; &#318; &#319; &#320; &#321; &#322; &#323; &#324; &#325; &#326; &#327; &#328; &#329; &#330; &#331;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#332; &#333; &#334; &#335; &#336; &#337; &#338; &#339; &#340; &#341; &#342; &#343; &#344; &#345; &#346; &#347; &#348; &#349; &#350; &#351; &#352; &#353; &#354; &#355; &#356; &#357; &#358; &#359; &#360; &#361; &#362; &#363; &#364; &#365; &#366;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#367; &#368; &#369; &#370; &#371; &#372; &#373; &#374; &#375; &#376; &#377; &#378; &#379; &#380; &#381; &#382; &#383; &#461; &#462; &#463; &#464; &#465; &#466; &#467; &#468; &#469; &#470; &#471; &#472; &#473; &#474; &#475; &#476;</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">&#399; &#402; &#416; &#417; &#431; &#431; &#506; &#507; &#508; &#509; &#510; &#511;''')</span></code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Transformations'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> t <span class="org-keyword">in</span> [<span class="org-string">'normal'</span>, <span class="org-string">'bold'</span>, <span class="org-string">'italic'</span>, <span class="org-string">'oblique'</span>, <span class="org-string">'bold italic'</span>, <span class="org-string">'bold oblique'</span>, <span class="org-string">'small-caps'</span>, <span class="org-string">'bold small-caps'</span>]:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=t):</code>
<code>            line(<span class="org-string">'td'</span>, t)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Test strings'</span>)</code>
<code>      <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>          <span class="org-keyword">for</span> v <span class="org-keyword">in</span> variants:</code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>):</code>
<code>              line(<span class="org-string">'td'</span>, v)</code>
<code>              <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>, klass=v + <span class="org-string">' nocalt'</span>):</code>
<code>                text(s)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Kerning matrix'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'div'</span>, klass=<span class="org-string">'nocalt'</span>):</code>
<code>        doc.asis(test_kerning_matrix(font))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'License'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'pre'</span>, klass=<span class="org-string">'license'</span>):</code>
<code>        text(font.<span class="org-constant">copyright</span>)</code>
<code>      <span class="org-comment-delimiter"># </span><span class="org-comment">http://famira.com/article/letterproef</span></code>
<code>  font.close()</code>
<code>  <span class="org-keyword">return</span> doc.getvalue()</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python" id="org36697fd"><code>&lt;&lt;def_test_html&gt;&gt;</code>
<code><span class="org-variable-name">font_files</span> = [<span class="org-string">'sachacHand-Light.woff'</span>, <span class="org-string">'sachacHand-Regular.woff'</span>, <span class="org-string">'sachacHand-Bold.woff'</span>]</code>
<code><span class="org-variable-name">fonts</span> = {}</code>
<code></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Write the main page</span></code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'index.html'</span>, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>  <span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>): </code>
<code>      doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'style'</span>):</code>
<code>        <span class="org-keyword">for</span> p <span class="org-keyword">in</span> font_files:</code>
<code>          <span class="org-variable-name">fonts</span>[p] = fontforge.<span class="org-builtin">open</span>(p)</code>
<code>          doc.asis(<span class="org-string">"@font-face { font-family: '%s'; src: url('%s'); }\n"</span> % (fonts[p].fontname, p))</code>
<code>          doc.asis(<span class="org-string">".%s { font-family: '%s'; }"</span> % (fonts[p].fontname, fonts[p].fontname))</code>
<code>    <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>):</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'https://github.com/sachac/sachac-hand'</span>):</code>
<code>        text(<span class="org-string">'View source code on Github'</span>)</code>
<code>      line(<span class="org-string">'h1'</span>, <span class="org-string">'Summary'</span>)</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Glyphs'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>):</code>
<code>        <span class="org-keyword">for</span> p <span class="org-keyword">in</span> fonts:</code>
<code>          <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=fonts[p].fontname):</code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>):</code>
<code>              <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'test-%s.html'</span> % fonts[p].fontname):</code>
<code>                text(fonts[p].fullname)</code>
<code>            line(<span class="org-string">'td'</span>, test_glyphs(fonts[p]))</code>
<code>      line(<span class="org-string">'h2'</span>, <span class="org-string">'Strings'</span>)</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'table'</span>, style=<span class="org-string">'border-bottom: 1px solid gray; width: 100%; border-collapse: collapse'</span>):</code>
<code>        <span class="org-keyword">for</span> s <span class="org-keyword">in</span> strings:</code>
<code>          <span class="org-keyword">for</span> i, p <span class="org-keyword">in</span> <span class="org-builtin">enumerate</span>(fonts):</code>
<code>            <span class="org-variable-name">style</span> = <span class="org-string">'border-top: 1px solid gray'</span> <span class="org-keyword">if</span> (i == 0) <span class="org-keyword">else</span> <span class="org-string">""</span></code>
<code>            <span class="org-keyword">with</span> tag(<span class="org-string">'tr'</span>, klass=fonts[p].fontname, style=style):</code>
<code>              <span class="org-keyword">with</span> tag(<span class="org-string">'td'</span>):</code>
<code>                <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">'test-%s.html'</span> % fonts[p].fontname):</code>
<code>                  text(fonts[p].fullname)</code>
<code>              line(<span class="org-string">'td'</span>, s)</code>
<code>  f.write(doc.getvalue())</code>
</pre>
</div>

<p>
Oh, can I get livereload working? There's a <code>python3-livereload</code>&#x2026; Ah, it's as simple as running <code>livereload</code>.
</p>
</div>
</div>

<div id="outline-container-orgf144230" class="outline-2">
<h2 id="orgf144230">Ideas</h2>
<div class="outline-text-2" id="text-orgf144230">
</div>
<div id="outline-container-orgd23f781" class="outline-3">
<h3 id="orgd23f781"><span class="done DONE">DONE</span> Copy glyphs from hand-edited font</h3>
<div class="outline-text-3" id="text-orgd23f781">
</div>
</div>
<div id="outline-container-org0fc5067" class="outline-3">
<h3 id="org0fc5067"><span class="todo TODO">TODO</span> Alternate glyphs</h3>
</div>
<div id="outline-container-org1700929" class="outline-3">
<h3 id="org1700929"><span class="todo TODO">TODO</span> Ligatures</h3>
</div>
<div id="outline-container-org498ae82" class="outline-3">
<h3 id="org498ae82"><span class="todo TODO">TODO</span> Accents</h3>
</div>
<div id="outline-container-org1b0e294" class="outline-3">
<h3 id="org1b0e294">Generating a zero-width version?</h3>
<div class="outline-text-3" id="text-org1b0e294">
</div>
<div id="outline-container-orgca28b67" class="outline-4">
<h4 id="orgca28b67">Export glyphs, autotrace them, and load them into a different font</h4>
<div class="outline-text-4" id="text-orgca28b67">
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> os</code>
<code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">export_glyphs</span>(font, directory):</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    <span class="org-keyword">if</span> font[g].isWorthOutputting():</code>
<code>      <span class="org-variable-name">filename</span> = os.path.join(directory, g)</code>
<code>      font[g].export(filename + <span class="org-string">".png"</span>, params[<span class="org-string">'em'</span>], 1)</code>
<code>      subprocess.call([<span class="org-string">"convert"</span>, filename + <span class="org-string">".png"</span>, filename + <span class="org-string">".pbm"</span>])</code>
<code>      subprocess.call([<span class="org-string">"autotrace"</span>, <span class="org-string">"-centerline"</span>, <span class="org-string">"-output-file"</span>, filename + <span class="org-string">".svg"</span>, filename + <span class="org-string">".pbm"</span>])</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">zero_glyphs</span>(font, directory):</code>
<code>  <span class="org-keyword">for</span> g <span class="org-keyword">in</span> font:</code>
<code>    <span class="org-variable-name">glyph</span> = font[g]</code>
<code>    <span class="org-keyword">if</span> glyph.isWorthOutputting():</code>
<code>      glyph.clear()</code>
<code>      glyph.importOutlines(os.path.join(directory, g + <span class="org-string">'.svg'</span>))</code>
<code>  <span class="org-keyword">return</span> font</code>
<code><span class="org-variable-name">font</span> = load_font(params[<span class="org-string">'new_font_file'</span>])</code>
<code><span class="org-variable-name">directory</span> = <span class="org-string">'exported-glyphs'</span></code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">export_glyphs(font, directory)</span></code>
<code><span class="org-variable-name">font</span> = zero_glyphs(font, directory)</code>
<code><span class="org-variable-name">font.fontname</span> = <span class="org-string">'sachacHand-Zero'</span></code>
<code><span class="org-variable-name">font.fullname</span> = <span class="org-string">'sachacHand Zero'</span></code>
<code><span class="org-variable-name">font.weight</span> = <span class="org-string">'Zero'</span></code>
<code>save_font(font, {**params, <span class="org-string">"new_font_file"</span>: <span class="org-string">"sachacHandZero.sfd"</span>, <span class="org-string">"new_otf"</span>: <span class="org-string">"sachacHandZero.otf"</span>})</code>
</pre>
</div>

<p>
Huh. I want the latest version so that I can pass keyword arguments.
</p>

<p>
1023,/home/sacha/vendor/fontforge% cd build            
cmake -GNinja .. -DENABLE_FONTFORGE_EXTRAS=ON 
ninja
ninja install
</p>
<p>
<a href="https://superuser.com/questions/1337567/how-do-i-convert-a-ttf-into-individual-png-character-images">https://superuser.com/questions/1337567/how-do-i-convert-a-ttf-into-individual-png-character-images</a>
</p>
</div>
</div>
<div id="outline-container-org73cdb9d" class="outline-4">
<h4 id="org73cdb9d"><span class="todo TODO">TODO</span> Manually edit the glyphs to make them look okay</h4>
</div>
<div id="outline-container-org52e04fd" class="outline-4">
<h4 id="org52e04fd"><span class="todo TODO">TODO</span> Double up the paths and close them</h4>
<div class="outline-text-4" id="text-org52e04fd">
<p>
<a href="https://wiki.inkscape.org/wiki/index.php/CalligraphedOutlineFill">https://wiki.inkscape.org/wiki/index.php/CalligraphedOutlineFill</a> ?
</p>
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> inkex</code>
</pre>
</div>
</div>
</div>
</div>
<div id="outline-container-org6e90cc6" class="outline-3">
<h3 id="org6e90cc6"><span class="todo TODO">TODO</span> Make a font for A-</h3>
<div class="outline-text-3" id="text-org6e90cc6">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-variable-name">params</span> = {**params, </code>
<code>          <span class="org-string">'sample_file'</span>: <span class="org-string">'a-kiddo-sample.png'</span>,</code>
<code>          <span class="org-string">'new_font_file'</span>: <span class="org-string">'aKiddoHand.sfd'</span>,</code>
<code>          <span class="org-string">'new_otf'</span>: <span class="org-string">'aKiddoHand.otf'</span>,</code>
<code>          <span class="org-string">'new_font_name'</span>: <span class="org-string">'aKiddoHand'</span>,</code>
<code>          <span class="org-string">'new_family_name'</span>: <span class="org-string">'aKiddoHand'</span>,</code>
<code>          <span class="org-string">'new_full_name'</span>: <span class="org-string">'aKiddoHand'</span>}</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org3dee60b" class="outline-2">
<h2 id="org3dee60b">Extra stuff</h2>
</div>
<div id="outline-container-orgf8f5f3c" class="outline-2">
<h2 id="orgf8f5f3c">Get information from my blog database</h2>
<div class="outline-text-2" id="text-orgf8f5f3c">
<div class="org-src-container">
<pre class="src src-sh"><code><span class="org-builtin">cd</span> ~/code/docker/blog</code>
<code>docker-compose up mysql</code>
</pre>
</div>
</div>

<div id="outline-container-orgdeb02c8" class="outline-3">
<h3 id="orgdeb02c8">Figure out what glyphs I want based on my blog headings</h3>
<div class="outline-text-3" id="text-orgdeb02c8">
<div class="org-src-container">
<pre class="src src-python" id="org249418e"><code><span class="org-keyword">from</span> dotenv <span class="org-keyword">import</span> load_dotenv</code>
<code><span class="org-keyword">from</span> sqlalchemy <span class="org-keyword">import</span> create_engine</code>
<code><span class="org-keyword">import</span> os</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-keyword">import</span> pymysql</code>
<code>load_dotenv(dotenv_path=<span class="org-string">"/home/sacha/code/docker/blog/.env"</span>, verbose=<span class="org-constant">True</span>)</code>
<code></code>
<code><span class="org-variable-name">sqlEngine</span>       = create_engine(<span class="org-string">'mysql+pymysql://'</span> + os.getenv(<span class="org-string">'PYTHON_DB'</span>), pool_recycle=3600)</code>
<code><span class="org-variable-name">dbConnection</span>    = sqlEngine.connect()</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-org99c4320" class="outline-3">
<h3 id="org99c4320">Make test page with blog headings</h3>
<div class="outline-text-3" id="text-org99c4320">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-keyword">from</span> yattag <span class="org-keyword">import</span> Doc, indent</code>
<code><span class="org-variable-name">doc</span>, <span class="org-variable-name">tag</span>, <span class="org-variable-name">text</span>, <span class="org-variable-name">line</span> = Doc().ttl()</code>
<code><span class="org-keyword">with</span> tag(<span class="org-string">'html'</span>):</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'head'</span>):</code>
<code>    doc.asis(<span class="org-string">'&lt;link rel="stylesheet" type="text/css" href="style.css" /&gt;'</span>)</code>
<code>  <span class="org-keyword">with</span> tag(<span class="org-string">'body'</span>, klass=<span class="org-string">"blog-heading"</span>):</code>
<code>    <span class="org-variable-name">result</span> = dbConnection.execute(<span class="org-string">"select id, post_title from wp_posts WHERE post_type='post' AND post_status='publish' AND post_password='' order by id desc"</span>)</code>
<code>    <span class="org-keyword">for</span> row <span class="org-keyword">in</span> result:</code>
<code>      <span class="org-keyword">with</span> tag(<span class="org-string">'h2'</span>):</code>
<code>        <span class="org-keyword">with</span> tag(<span class="org-string">'a'</span>, href=<span class="org-string">"https://sachachua.com/blog/p/%s"</span> % row[<span class="org-string">'id'</span>]):</code>
<code>          text(row[<span class="org-string">'post_title'</span>])</code>
<code>dbConnection.close()</code>
<code><span class="org-keyword">with</span> <span class="org-builtin">open</span>(<span class="org-string">'test-blog.html'</span>, <span class="org-string">'w'</span>) <span class="org-keyword">as</span> f:</code>
<code>  f.write(indent(doc.getvalue(), indent_text=<span class="org-constant">True</span>))</code>
</pre>
</div>
</div>
</div>

<div id="outline-container-orgb2da442" class="outline-3">
<h3 id="orgb2da442">Check glyphs</h3>
<div class="outline-text-3" id="text-orgb2da442">
<div class="org-src-container">
<pre class="src src-python"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span>           = pd.read_sql(<span class="org-string">"select post_title from wp_posts WHERE post_type='post' AND post_status='publish'"</span>, dbConnection);</code>
<code><span class="org-comment-delimiter"># </span><span class="org-comment">Debugging</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">q = df[~df['post_title'].str.match('^[A-Za-z0-9\? "\'(),\-:\.\*;/@\!\[\]=_&amp;\?\$\+#^{}\~]+$')]</span></code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">print(q)</span></code>
<code><span class="org-keyword">from</span> collections <span class="org-keyword">import</span> Counter</code>
<code><span class="org-variable-name">df</span>[<span class="org-string">'filtered'</span>] = df.post_title.<span class="org-builtin">str</span>.replace(<span class="org-string">'[A-Za-z0-9\? "\'(),\-:\.\*;/@\!\[\]=_&amp;\?\$\+#^{}\~]+'</span>, <span class="org-string">''</span>)</code>
<code><span class="org-comment-delimiter">#</span><span class="org-comment">print(df['filtered'].apply(list).sum())</span></code>
<code><span class="org-variable-name">res</span> = Counter(df.filtered.<span class="org-builtin">apply</span>(<span class="org-builtin">list</span>).<span class="org-builtin">sum</span>())</code>
<code><span class="org-keyword">return</span> res.most_common()</code>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left"></td>
<td class="org-right">65</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">57</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">39</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">33</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">13</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">8</td>
</tr>

<tr>
<td class="org-left">\x81</td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">4</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">3</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">%</td>
<td class="org-right">2</td>
</tr>

<tr>
<td class="org-left">\t</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">&lt;</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">&gt;</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">\xa0</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left">\x8d</td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>

<tr>
<td class="org-left"></td>
<td class="org-right">1</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-org828e444" class="outline-3">
<h3 id="org828e444">Look up posts with weird glyphs</h3>
<div class="outline-text-3" id="text-org828e444">
<div class="org-src-container">
<pre class="src src-python" id="orgfa9188f"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span>           = pd.read_sql(<span class="org-string">"select id, post_title from wp_posts WHERE post_type='post' AND post_status='publish' AND post_title LIKE %(char)s limit 10;"</span>, dbConnection, params={<span class="org-string">"char"</span>: <span class="org-string">'%'</span> + char + <span class="org-string">'%'</span>});</code>
<code><span class="org-keyword">print</span>(df)</code>
</pre>
</div>

<pre class="example">
<code>      id                                         post_title</code>
<code>0   7059    Wiki organization challenge  thinking out loud</code>
<code>1   7330   Setting up my new tablet PC  apps, config, etc.</code>
<code>2  22038  Work on the business from the outside, not in ...</code>
</pre>
</div>
</div>

<div id="outline-container-org1776af3" class="outline-3">
<h3 id="org1776af3">Get frequency of pairs of characters</h3>
<div class="outline-text-3" id="text-org1776af3">
<div class="org-src-container">
<pre class="src src-python" id="orge291855"><code>&lt;&lt;connect-to-db&gt;&gt;</code>
<code><span class="org-variable-name">df</span> = pd.read_sql(<span class="org-string">"select post_title from wp_posts WHERE post_type='post' AND post_status='publish'"</span>, dbConnection);</code>
<code><span class="org-keyword">from</span> collections <span class="org-keyword">import</span> Counter</code>
<code><span class="org-variable-name">s</span> = df.post_title.<span class="org-builtin">apply</span>(<span class="org-builtin">list</span>).<span class="org-builtin">sum</span>()</code>
<code><span class="org-variable-name">res</span> = Counter(<span class="org-string">'{}{}'</span>.<span class="org-builtin">format</span>(a, b) <span class="org-keyword">for</span> a, b <span class="org-keyword">in</span> <span class="org-builtin">zip</span>(s, s[1:]))</code>
<code><span class="org-variable-name">common</span> = res.most_common(100)</code>
<code><span class="org-keyword">return</span> <span class="org-string">''</span>.join([x[0] <span class="org-keyword">for</span> x <span class="org-keyword">in</span> common])</code>
</pre>
</div>

<pre class="example">
<code>innge g s  treeron aanesy entit orndthn ee: ted atarr hetont, acstou o fekne rieWe smaalewo 20roea mle w 2itvi e pk rimedietioomchev cly01edlil ve i braisseha Wotdece dcotahih looouticurel laseccssila</code>
</pre>
</div>
</div>

<div id="outline-container-orgadab5a0" class="outline-3">
<h3 id="orgadab5a0">Copy metrics from my edited font</h3>
<div class="outline-text-3" id="text-orgadab5a0">
</div>
<div id="outline-container-org6e19527" class="outline-4">
<h4 id="org6e19527">Get the glyph bearings</h4>
<div class="outline-text-4" id="text-org6e19527">
<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> fontforge</code>
<code><span class="org-keyword">import</span> numpy <span class="org-keyword">as</span> np</code>
<code><span class="org-keyword">import</span> pandas <span class="org-keyword">as</span> pd</code>
<code><span class="org-variable-name">f</span> = fontforge.<span class="org-builtin">open</span>(<span class="org-string">"/home/sacha/code/font/files/SachaHandEdited.sfd"</span>)</code>
<code><span class="org-keyword">return</span> <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> g: [g.glyphname, g.left_side_bearing, g.right_side_bearing], f.glyphs()))</code>
</pre>
</div>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-left" />

<col  class="org-right" />

<col  class="org-right" />
</colgroup>
<tbody>
<tr>
<td class="org-left">a</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">b</td>
<td class="org-right">39.0</td>
<td class="org-right">38.59677350874102</td>
</tr>

<tr>
<td class="org-left">c</td>
<td class="org-right">38.807172523099524</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">d</td>
<td class="org-right">38.853036079593494</td>
<td class="org-right">37.70218462414317</td>
</tr>

<tr>
<td class="org-left">e</td>
<td class="org-right">23.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">f</td>
<td class="org-right">22.0</td>
<td class="org-right">28.0</td>
</tr>

<tr>
<td class="org-left">g</td>
<td class="org-right">39.0</td>
<td class="org-right">38.839263397187665</td>
</tr>

<tr>
<td class="org-left">h</td>
<td class="org-right">42.44897959183673</td>
<td class="org-right">32.244897959183675</td>
</tr>

<tr>
<td class="org-left">i</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">j</td>
<td class="org-right">29.0</td>
<td class="org-right">37.07269908475212</td>
</tr>

<tr>
<td class="org-left">k</td>
<td class="org-right">38.7232</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">l</td>
<td class="org-right">38.849996883261696</td>
<td class="org-right">24.0</td>
</tr>

<tr>
<td class="org-left">m</td>
<td class="org-right">38.88120540762966</td>
<td class="org-right">61.872974804436524</td>
</tr>

<tr>
<td class="org-left">n</td>
<td class="org-right">38.41699749411689</td>
<td class="org-right">50.09722712588024</td>
</tr>

<tr>
<td class="org-left">o</td>
<td class="org-right">38.861850745445174</td>
<td class="org-right">38.36155030599474</td>
</tr>

<tr>
<td class="org-left">p</td>
<td class="org-right">38.72189349112426</td>
<td class="org-right">38.806185204215126</td>
</tr>

<tr>
<td class="org-left">q</td>
<td class="org-right">38.635016803781454</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">r</td>
<td class="org-right">39.183503419072274</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">s</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">t</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">u</td>
<td class="org-right">38.68004732178092</td>
<td class="org-right">38.39916483580083</td>
</tr>

<tr>
<td class="org-left">v</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">w</td>
<td class="org-right">38.5881853639986</td>
<td class="org-right">38.21114561800016</td>
</tr>

<tr>
<td class="org-left">x</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">y</td>
<td class="org-right">-25.0</td>
<td class="org-right">36.43496760281849</td>
</tr>

<tr>
<td class="org-left">z</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">A</td>
<td class="org-right">39.38789400666183</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">B</td>
<td class="org-right">39.0</td>
<td class="org-right">37.98737993209943</td>
</tr>

<tr>
<td class="org-left">C</td>
<td class="org-right">39.16280761404536</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">D</td>
<td class="org-right">39.0</td>
<td class="org-right">39.51459156482764</td>
</tr>

<tr>
<td class="org-left">E</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">F</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">G</td>
<td class="org-right">39.0</td>
<td class="org-right">38.966489765633526</td>
</tr>

<tr>
<td class="org-left">H</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">I</td>
<td class="org-right">38.96694214876033</td>
<td class="org-right">39.25</td>
</tr>

<tr>
<td class="org-left">J</td>
<td class="org-right">39.0</td>
<td class="org-right">38.464468801750854</td>
</tr>

<tr>
<td class="org-left">K</td>
<td class="org-right">38.59617220614814</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">L</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">M</td>
<td class="org-right">38.745166004060955</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">N</td>
<td class="org-right">38.73987423309397</td>
<td class="org-right">38.115654115187624</td>
</tr>

<tr>
<td class="org-left">O</td>
<td class="org-right">38.98891966759004</td>
<td class="org-right">38.81665596263048</td>
</tr>

<tr>
<td class="org-left">P</td>
<td class="org-right">39.107438016528924</td>
<td class="org-right">38.65155124501666</td>
</tr>

<tr>
<td class="org-left">Q</td>
<td class="org-right">39.08006855188009</td>
<td class="org-right">38.01570072979803</td>
</tr>

<tr>
<td class="org-left">R</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">S</td>
<td class="org-right">39.0</td>
<td class="org-right">37.81373873377618</td>
</tr>

<tr>
<td class="org-left">T</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">U</td>
<td class="org-right">38.75</td>
<td class="org-right">37.93218925782895</td>
</tr>

<tr>
<td class="org-left">V</td>
<td class="org-right">38.64979175001243</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">W</td>
<td class="org-right">39.0</td>
<td class="org-right">38.97697312351511</td>
</tr>

<tr>
<td class="org-left">X</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">Y</td>
<td class="org-right">39.2011995420152</td>
<td class="org-right">38.493344292403606</td>
</tr>

<tr>
<td class="org-left">Z</td>
<td class="org-right">38.920094771357476</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">zero</td>
<td class="org-right">39.02557980683008</td>
<td class="org-right">38.934353847767</td>
</tr>

<tr>
<td class="org-left">one</td>
<td class="org-right">39.0</td>
<td class="org-right">37.86668813070091</td>
</tr>

<tr>
<td class="org-left">two</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">three</td>
<td class="org-right">39.0</td>
<td class="org-right">38.30090715487154</td>
</tr>

<tr>
<td class="org-left">four</td>
<td class="org-right">38.61480785064145</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">five</td>
<td class="org-right">39.0</td>
<td class="org-right">38.759568693514495</td>
</tr>

<tr>
<td class="org-left">six</td>
<td class="org-right">39.2019689704218</td>
<td class="org-right">38.50115350183796</td>
</tr>

<tr>
<td class="org-left">seven</td>
<td class="org-right">39.0</td>
<td class="org-right">39.45880036173975</td>
</tr>

<tr>
<td class="org-left">eight</td>
<td class="org-right">39.30732386691426</td>
<td class="org-right">38.81767097798502</td>
</tr>

<tr>
<td class="org-left">nine</td>
<td class="org-right">39.04800948718441</td>
<td class="org-right">37.956930045381114</td>
</tr>

<tr>
<td class="org-left">question</td>
<td class="org-right">39.35264826217293</td>
<td class="org-right">38.26531143335521</td>
</tr>

<tr>
<td class="org-left">colon</td>
<td class="org-right">38.5</td>
<td class="org-right">38.70624687253556</td>
</tr>

<tr>
<td class="org-left">semicolon</td>
<td class="org-right">39.0</td>
<td class="org-right">39.27324858612964</td>
</tr>

<tr>
<td class="org-left">hyphen</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">equal</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">exclam</td>
<td class="org-right">38.783020821373505</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">quotesingle</td>
<td class="org-right">39.0</td>
<td class="org-right">-1.7598547334076642</td>
</tr>

<tr>
<td class="org-left">at</td>
<td class="org-right">39.229928128979466</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">slash</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">backslash</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">quotedbl</td>
<td class="org-right">38.86626375007093</td>
<td class="org-right">37.95034254612182</td>
</tr>

<tr>
<td class="org-left">asciitilde</td>
<td class="org-right">38.68727157672891</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">underscore</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">numbersign</td>
<td class="org-right">39.0</td>
<td class="org-right">38.740379553133494</td>
</tr>

<tr>
<td class="org-left">dollar</td>
<td class="org-right">39.0</td>
<td class="org-right">38.734693877551024</td>
</tr>

<tr>
<td class="org-left">percent</td>
<td class="org-right">39.200007286174</td>
<td class="org-right">38.10774096287298</td>
</tr>

<tr>
<td class="org-left">ampersand</td>
<td class="org-right">38.96710425694502</td>
<td class="org-right">38.68428307198798</td>
</tr>

<tr>
<td class="org-left">parenleft</td>
<td class="org-right">39.286819706621706</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">parenright</td>
<td class="org-right">39.0</td>
<td class="org-right">39.05824335912013</td>
</tr>

<tr>
<td class="org-left">asterisk</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">plus</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">comma</td>
<td class="org-right">38.96546178699183</td>
<td class="org-right">38.55278640450004</td>
</tr>

<tr>
<td class="org-left">period</td>
<td class="org-right">38.83875395420776</td>
<td class="org-right">37.87092262792087</td>
</tr>

<tr>
<td class="org-left">less</td>
<td class="org-right">38.97840529870042</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">greater</td>
<td class="org-right">39.0</td>
<td class="org-right">37.69246464578106</td>
</tr>

<tr>
<td class="org-left">bracketleft</td>
<td class="org-right">38.788380868145794</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">bracketright</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">asciicircum</td>
<td class="org-right">39.0</td>
<td class="org-right">38.0</td>
</tr>

<tr>
<td class="org-left">grave</td>
<td class="org-right">39.0</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">braceleft</td>
<td class="org-right">38.7827057593821</td>
<td class="org-right">39.0</td>
</tr>

<tr>
<td class="org-left">bar</td>
<td class="org-right">39.0</td>
<td class="org-right">38.406427221172024</td>
</tr>

<tr>
<td class="org-left">braceright</td>
<td class="org-right">39.0</td>
<td class="org-right">38.206693605650514</td>
</tr>

<tr>
<td class="org-left">space</td>
<td class="org-right">0.0</td>
<td class="org-right">243.0</td>
</tr>
</tbody>
</table>
</div>
</div>

<div id="outline-container-orga88802b" class="outline-4">
<h4 id="orga88802b">Get the kerning information</h4>
<div class="outline-text-4" id="text-orga88802b">
<div class="org-src-container">
<pre class="src src-python" id="org7310fa9"><code>&lt;&lt;params&gt;&gt;</code>
<code><span class="org-keyword">def</span> <span class="org-function-name">show_kerning_classes</span>(f):</code>
<code>  <span class="org-variable-name">kern_name</span> = f.gpos_lookups[0]</code>
<code>  <span class="org-variable-name">lookup_info</span> = f.getLookupInfo(kern_name)</code>
<code>  <span class="org-variable-name">sub</span> = f.getLookupSubtables(kern_name)</code>
<code>  <span class="org-keyword">for</span> subtable <span class="org-keyword">in</span> sub:</code>
<code>    (classes_left, classes_right, array) = f.getKerningClass(subtable)</code>
<code>    <span class="org-variable-name">classes_left</span> = <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> x: <span class="org-string">'None'</span> <span class="org-keyword">if</span> x <span class="org-keyword">is</span> <span class="org-constant">None</span> <span class="org-keyword">else</span> <span class="org-string">','</span>.join(x), classes_left))</code>
<code>    <span class="org-variable-name">classes_right</span> = <span class="org-builtin">list</span>(<span class="org-builtin">map</span>(<span class="org-keyword">lambda</span> x: <span class="org-string">'None'</span> <span class="org-keyword">if</span> x <span class="org-keyword">is</span> <span class="org-constant">None</span> <span class="org-keyword">else</span> <span class="org-string">','</span>.join(x), classes_right))</code>
<code>    <span class="org-variable-name">kerning</span> = np.array(array).reshape(<span class="org-builtin">len</span>(classes_left), <span class="org-builtin">len</span>(classes_right))</code>
<code>    <span class="org-variable-name">df</span> = pd.DataFrame(data=kerning, index=classes_left, columns=classes_right)</code>
<code>    out(df)</code>
</pre>
</div>

<div class="org-src-container">
<pre class="src src-python"><code><span class="org-keyword">import</span> fontforge</code>
<code>&lt;&lt;def_show_kerning_classes&gt;&gt;</code>
<code>show_kerning_classes(fontforge.<span class="org-builtin">open</span>(font))</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org4fe0a4e" class="outline-3">
<h3 id="org4fe0a4e">Copy it to my website</h3>
<div class="outline-text-3" id="text-org4fe0a4e">
<div class="org-src-container">
<pre class="src src-sh"><code>scp sachacHand-Regular.woff web:~/sacha-v3/</code>
</pre>
</div>
</div>
</div>
</div>

<div id="outline-container-org0e74ef5" class="outline-2">
<h2 id="org0e74ef5">Other resources</h2>
<div class="outline-text-2" id="text-org0e74ef5">
<p>
<a href="http://ctan.localhost.net.ar/fonts/amiri/tools/build.py">http://ctan.localhost.net.ar/fonts/amiri/tools/build.py</a>
</p>

<style type="text/css">
       @font-face { font-family: 'sachacHand'; src: url('files/sachacHand.woff'); }
       h1, h2 { font-family: 'sachacHand', sans-serif; font-weight: bold }
       code { font-size: 0.8rem; border: none }
</style>
</div>
</div>
</div>
<div id="postamble" class="status">

<style type="text/css">
.back-to-top {
    position: fixed;
    bottom: 2em;
    right: 0px;
    text-decoration: none;
    color: #000000;
    background-color: rgba(235, 235, 235, 0.80);
    font-size: 12px;
    padding: 1em;
    display: none;
}

.back-to-top:hover {
    background-color: rgba(135, 135, 135, 0.50);
}
</style>

<div class="back-to-top">
<a href="#top">Back to top</a> | <a href="mailto:sacha@sachachua.com">E-mail me</a>
</div>

<script type="text/javascript">
    var offset = 220;
    var duration = 500;
    jQuery(window).scroll(function() {
        if (jQuery(this).scrollTop() > offset) {
            jQuery('.back-to-top').fadeIn(duration);
        } else {
            jQuery('.back-to-top').fadeOut(duration);
        }
    });
</script>
</div>
</body>
</html>
